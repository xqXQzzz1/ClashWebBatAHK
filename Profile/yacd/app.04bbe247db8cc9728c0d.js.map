{
  "version": 3,
  "sources": [
    "webpack://yacd/./src/api/configs.ts",
    "webpack://yacd/./src/api/connections.ts",
    "webpack://yacd/./src/api/traffic.ts",
    "webpack://yacd/./src/misc/i18n.ts",
    "webpack://yacd/./src/api/version.ts",
    "webpack://yacd/./src/components/about/About.module.css?d14c",
    "webpack://yacd/./src/components/about/About.tsx",
    "webpack://yacd/./src/components/shared/Head.tsx",
    "webpack://yacd/./src/store/index.ts",
    "webpack://yacd/./src/hooks/basic.ts",
    "webpack://yacd/./src/components/BackendList.module.css?5bc9",
    "webpack://yacd/./src/components/BackendList.tsx",
    "webpack://yacd/./src/components/APIConfig.module.css?c176",
    "webpack://yacd/./src/components/Field.module.css?21e7",
    "webpack://yacd/./src/components/Field.tsx",
    "webpack://yacd/./src/components/APIConfig.tsx",
    "webpack://yacd/./src/misc/errors.ts",
    "webpack://yacd/./src/components/APIDiscovery.module.css?2560",
    "webpack://yacd/./src/components/Modal.tsx",
    "webpack://yacd/./src/components/APIDiscovery.tsx",
    "webpack://yacd/./src/components/ErrorBoundaryFallback.module.css?d55c",
    "webpack://yacd/./src/components/SvgGithub.tsx",
    "webpack://yacd/./src/components/ErrorBoundaryFallback.tsx",
    "webpack://yacd/./src/components/ErrorBoundary.tsx",
    "webpack://yacd/./src/components/Home.module.css?9857",
    "webpack://yacd/./src/components/Loading.module.css?820a",
    "webpack://yacd/./src/components/Loading.tsx",
    "webpack://yacd/./src/components/TrafficChart.tsx",
    "webpack://yacd/./src/components/TrafficNow.module.css?e26a",
    "webpack://yacd/./src/components/TrafficNow.tsx",
    "webpack://yacd/./src/components/Home.tsx",
    "webpack://yacd/./src/components/Loading2.module.css?e949",
    "webpack://yacd/./src/components/Loading2.tsx",
    "webpack://yacd/./src/components/Root.module.css?6f8e",
    "webpack://yacd/./src/components/SideBar.module.css?e4c9",
    "webpack://yacd/./src/components/SideBar.tsx",
    "webpack://yacd/./src/components/StyleGuide.tsx",
    "webpack://yacd/./src/components/Root.tsx",
    "webpack://yacd/./src/swRegistration.ts",
    "webpack://yacd/./src/app.tsx",
    "webpack://yacd/./src/components/Button.module.css?8812",
    "webpack://yacd/./src/components/Button.tsx",
    "webpack://yacd/./src/components/ContentHeader.module.css?8f18",
    "webpack://yacd/./src/components/ContentHeader.tsx",
    "webpack://yacd/./src/components/Input.module.css?0c7c",
    "webpack://yacd/./src/components/Input.tsx",
    "webpack://yacd/./src/components/StateProvider.tsx",
    "webpack://yacd/./src/components/SvgYacd.module.css?a398",
    "webpack://yacd/./src/components/SvgYacd.tsx",
    "webpack://yacd/./src/components/SwitchThemed.tsx",
    "webpack://yacd/./src/components/ToggleSwitch.module.css?f7c7",
    "webpack://yacd/./src/components/ToggleSwitch.tsx",
    "webpack://yacd/./src/components/shared/Basic.module.css?f416",
    "webpack://yacd/./src/components/shared/Basic.tsx",
    "webpack://yacd/./src/hooks/useLineChart.ts",
    "webpack://yacd/./src/misc/chart.ts",
    "webpack://yacd/./src/misc/motion.ts",
    "webpack://yacd/./src/misc/createResource.ts",
    "webpack://yacd/./src/misc/pretty-bytes.ts",
    "webpack://yacd/./src/misc/request-helper.ts",
    "webpack://yacd/./src/misc/utils.ts",
    "webpack://yacd/./src/misc/storage.ts",
    "webpack://yacd/./src/store/app.ts",
    "webpack://yacd/./src/store/configs.ts",
    "webpack://yacd/./src/store/logs.ts",
    "webpack://yacd/./src/store/modals.ts",
    "webpack://yacd/./src/api/proxies.ts",
    "webpack://yacd/./src/store/proxies.tsx",
    "webpack://yacd/./src/components/Modal.module.css?2f6d",
    "webpack://yacd/webpack/runtime/startup prefetch"
  ],
  "names": [
    "endpoint",
    "fetchConfigs",
    "apiConfig",
    "getURLAndInit",
    "url",
    "init",
    "fetch",
    "configsPatchWorkaround",
    "o",
    "updateConfigs",
    "body",
    "JSON",
    "stringify",
    "method",
    "wsState",
    "subscribers",
    "fetchData",
    "listener",
    "subscribe",
    "buildWebSocketURL",
    "ws",
    "WebSocket",
    "addEventListener",
    "event",
    "s",
    "parse",
    "err",
    "console",
    "log",
    "forEach",
    "f",
    "appendData",
    "data",
    "push",
    "idx",
    "indexOf",
    "splice",
    "closeAllConnections",
    "fetchConns",
    "closeConnById",
    "id",
    "baseURL",
    "textDecoder",
    "TextDecoder",
    "Size",
    "traffic",
    "labels",
    "Array",
    "up",
    "down",
    "size",
    "this",
    "t",
    "Date",
    "l",
    "getMinutes",
    "getSeconds",
    "length",
    "shift",
    "fetched",
    "decoded",
    "parseAndAppend",
    "x",
    "pump",
    "reader",
    "read",
    "then",
    "done",
    "value",
    "str",
    "decode",
    "stream",
    "splits",
    "split",
    "lastSplit",
    "i",
    "_ev",
    "response",
    "ok",
    "getReader",
    "fetchDataWithFetch",
    "allLocales",
    "zh",
    "en",
    "i18next",
    "HttpBackend",
    "use",
    "initReactI18next",
    "LanguageDetector",
    "debug",
    "process",
    "backend",
    "loadPath",
    "request",
    "_options",
    "_payload",
    "callback",
    "p",
    "mod",
    "status",
    "supportedLngs",
    "fallbackLng",
    "interpolation",
    "escapeValue",
    "fetchVersion",
    "json",
    "res",
    "Version",
    "name",
    "link",
    "version",
    "className",
    "href",
    "target",
    "rel",
    "About",
    "connect",
    "getClashAPIConfig",
    "props",
    "useQuery",
    "suspense",
    "ContentHeader",
    "title",
    "__VERSION__",
    "Head",
    "URL",
    "host",
    "e",
    "Helmet",
    "initialState",
    "app",
    "modals",
    "configs",
    "proxies",
    "logs",
    "actions",
    "selectChartStyleIndex",
    "updateAppConfig",
    "updateCollapsibleIsOpen",
    "removeClashAPIConfig",
    "selectClashAPIConfig",
    "proxiesActions",
    "useState",
    "React",
    "useCallback",
    "BackendList",
    "apiConfigs",
    "getClashAPIConfigs",
    "selectedClashAPIConfigIndex",
    "getSelectedClashAPIConfigIndex",
    "useStoreActions",
    "onRemove",
    "conf",
    "onSelect",
    "map",
    "item",
    "cx",
    "secret",
    "Item",
    "disableRemove",
    "isOn",
    "setState",
    "toggle",
    "useToggle",
    "show",
    "Icon",
    "EyeOff",
    "Eye",
    "handleTap",
    "stopPropagation",
    "Button",
    "disabled",
    "onClick",
    "tabIndex",
    "role",
    "onKeyUp",
    "children",
    "Field",
    "label",
    "onChange",
    "valueOnChange",
    "labelClassName",
    "htmlFor",
    "useRef",
    "dispatch",
    "setBaseURL",
    "setSecret",
    "errMsg",
    "setErrMsg",
    "userTouchedFlagRef",
    "contentEl",
    "handleInputOnChange",
    "current",
    "Error",
    "onConfirm",
    "verify",
    "ret",
    "addClashAPIConfig",
    "handleContentOnKeyDown",
    "Element",
    "tagName",
    "toUpperCase",
    "key",
    "s0",
    "ref",
    "onKeyDown",
    "SvgYacd",
    "width",
    "height",
    "type",
    "style",
    "prefix",
    "substring",
    "statusText",
    "errors",
    "message",
    "detail",
    "default",
    "ModalAPIConfig",
    "isOpen",
    "onRequestClose",
    "overlayClassName",
    "otherProps",
    "contentCls",
    "overlayCls",
    "useEffect",
    "window",
    "code",
    "closeApiConfigModal",
    "closeModal",
    "Modal",
    "shouldCloseOnOverlayClick",
    "shouldCloseOnEsc",
    "SvgGithub",
    "xmlns",
    "viewBox",
    "fill",
    "stroke",
    "strokeWidth",
    "strokeLinecap",
    "strokeLinejoin",
    "d",
    "error",
    "state",
    "useMemo",
    "chartWrapperStyle",
    "position",
    "maxWidth",
    "selectedChartStyleIndex",
    "getSelectedChartStyleIndex",
    "Chart",
    "chartJSResource",
    "useTranslation",
    "datasets",
    "commonDataSetProps",
    "chartStyles",
    "useLineChart",
    "upStr",
    "downStr",
    "speed",
    "setSpeed",
    "prettyBytes",
    "useSpeed",
    "upTotal",
    "dlTotal",
    "connNumber",
    "downloadTotal",
    "uploadTotal",
    "connections",
    "connAPI",
    "useConnection",
    "Home",
    "TrafficNow",
    "Suspense",
    "fallback",
    "TrafficChart",
    "animate",
    "c0",
    "c1",
    "icons",
    "activity",
    "FcAreaChart",
    "globe",
    "FcGlobe",
    "command",
    "FcRuler",
    "file",
    "FcDocument",
    "settings",
    "FcSettings",
    "FcLink",
    "SideBarRow",
    "isActive",
    "to",
    "iconId",
    "labelText",
    "Comp",
    "pages",
    "MoonA",
    "motion",
    "framerMotionResouce",
    "path",
    "initial",
    "rotate",
    "transition",
    "duration",
    "Sun",
    "cy",
    "r",
    "g",
    "scale",
    "x1",
    "y1",
    "x2",
    "y2",
    "theme",
    "getTheme",
    "location",
    "useLocation",
    "switchThemeHooked",
    "switchTheme",
    "pathname",
    "aria-label",
    "noop",
    "paneStyle",
    "padding",
    "optionsRule",
    "Pane",
    "SwitchExample",
    "onoff",
    "setonoff",
    "handleChange",
    "checked",
    "SwitchThemed",
    "PureComponent",
    "Connections",
    "lazy",
    "Config",
    "Logs",
    "Proxies",
    "Rules",
    "routes",
    "element",
    "filter",
    "Boolean",
    "RouteInnerApp",
    "useRoutes",
    "SideBarApp",
    "Loading2",
    "App",
    "StateProvider",
    "isLocalhost",
    "hostname",
    "match",
    "registerValidSW",
    "swUrl",
    "config",
    "navigator",
    "serviceWorker",
    "register",
    "registration",
    "onupdatefound",
    "installingWorker",
    "installing",
    "onstatechange",
    "controller",
    "onUpdate",
    "onSuccess",
    "catch",
    "rootEl",
    "document",
    "getElementById",
    "ReactDOM",
    "render",
    "origin",
    "headers",
    "contentType",
    "get",
    "ready",
    "unregister",
    "reload",
    "checkValidServiceWorker",
    "swRegistration",
    "forwardRef",
    "ButtonInternal",
    "text",
    "start",
    "isLoading",
    "kind",
    "restProps",
    "internalProps",
    "internalOnClick",
    "btnClassName",
    "display",
    "opacity",
    "Input",
    "SelfControlledInput",
    "internalValue",
    "setInternalValue",
    "refValue",
    "immer",
    "createContext",
    "memo",
    "useContext",
    "StateContext",
    "DispatchContext",
    "ActionsContext",
    "Provider",
    "stateRef",
    "getState",
    "actionId",
    "fn",
    "stateNext",
    "produce",
    "boundActions",
    "bindActions",
    "mapStateToProps",
    "Component",
    "MemoComponent",
    "mapped",
    "nextProps",
    "bindAction",
    "action",
    "args",
    "apply",
    "faceClasName",
    "fillRule",
    "offColor",
    "uncheckedIcon",
    "checkedIcon",
    "onColor",
    "offHandleColor",
    "onHandleColor",
    "handleDiameter",
    "ToggleSwitch",
    "options",
    "idxSelected",
    "getPortionPercentage",
    "w",
    "Math",
    "floor",
    "sliderStyle",
    "left",
    "SectionNameType",
    "LoadingDot",
    "commonChartOptions",
    "elementId",
    "subscription",
    "extraChartOptions",
    "ctx",
    "getContext",
    "c",
    "unsubscribe",
    "update",
    "destroy",
    "createResource",
    "borderWidth",
    "lineTension",
    "pointRadius",
    "responsive",
    "maintainAspectRatio",
    "legend",
    "fontColor",
    "boxWidth",
    "tooltips",
    "enabled",
    "mode",
    "intersect",
    "animationDuration",
    "hover",
    "scales",
    "xAxes",
    "gridLines",
    "yAxes",
    "color",
    "borderDash",
    "drawBorder",
    "ticks",
    "backgroundColor",
    "borderColor",
    "getPromise",
    "cache",
    "inflight",
    "load",
    "val",
    "preload",
    "undefined",
    "clear",
    "UNITS",
    "n",
    "exponent",
    "min",
    "log10",
    "Number",
    "pow",
    "toPrecision",
    "headersCommon",
    "genCommonHeaders",
    "h",
    "qs",
    "encodeURIComponent",
    "protocol",
    "trimTrailingSlash",
    "debounce",
    "timeout",
    "timeoutId",
    "clearTimeout",
    "setTimeout",
    "replace",
    "StorageKey",
    "saveState",
    "serialized",
    "localStorage",
    "setItem",
    "clashAPIConfigs",
    "getLatencyTestUrl",
    "latencyTestUrl",
    "getCollapsibleIsOpen",
    "collapsibleIsOpen",
    "getProxySortBy",
    "proxySortBy",
    "getHideUnavailableProxies",
    "hideUnavailableProxies",
    "getAutoCloseOldConns",
    "autoCloseOldConns",
    "saveStateDebounced",
    "findClashAPIConfigIndex",
    "arr",
    "clashAPIConfig",
    "addedAt",
    "now",
    "slice",
    "bodyElement",
    "setTheme",
    "classList",
    "remove",
    "add",
    "v",
    "defaultState",
    "getItem",
    "loadState",
    "query",
    "search",
    "collector",
    "k",
    "parseConfigQueryString",
    "port",
    "getConfigs",
    "getLogLevel",
    "configsAPI",
    "openModal",
    "payload",
    "haveFetchedConfig",
    "trafficAPI",
    "partialConfg",
    "getLogs",
    "getTail",
    "tail",
    "getSearchText",
    "searchText",
    "getLogsForDisplay",
    "createSelector",
    "LogSize",
    "toLowerCase",
    "updateSearchText",
    "appendLog",
    "tailCurr",
    "modalName",
    "fetchProxies",
    "requestToSwitchProxy",
    "name1",
    "name2",
    "fullURL",
    "requestDelayForProxy",
    "fetchProviderProxies",
    "providers",
    "updateProviderByName",
    "healthcheckProviderByName",
    "delay",
    "groupNames",
    "showModalClosePrevConns",
    "NonProxyTypes",
    "getProxies",
    "getDelay",
    "getProxyGroupNames",
    "getProxyProviders",
    "proxyProviders",
    "getDangleProxyNames",
    "dangleProxyNames",
    "getShowModalClosePrevConns",
    "Promise",
    "all",
    "proxiesAPI",
    "proxiesData",
    "providersData",
    "formatProxyProviders",
    "providerProxies",
    "retrieveGroupNamesFrom",
    "proxyNames",
    "delayPrev",
    "delayNext",
    "history",
    "number",
    "healthcheckProviderByNameInternal",
    "groupName",
    "exceptionItemName",
    "idsToClose",
    "conn",
    "chains",
    "switchProxyImpl",
    "itemName",
    "closePrevConns",
    "closeModalClosePrevConns",
    "switchTo",
    "chain",
    "child",
    "childKey",
    "unshift",
    "resolveChain",
    "closeGroupConns",
    "switchProxy",
    "requestDelayForProxyOnce",
    "requestDelayAll",
    "globalAll",
    "prop",
    "isArray",
    "sort",
    "a",
    "b",
    "group",
    "providersInput",
    "keys",
    "Object",
    "provider",
    "vehicleType",
    "proxiesArr",
    "names",
    "j",
    "proxy",
    "requestDelayForProxies",
    "works",
    "closePrevConnsAndTheModal",
    "switchProxyCtx",
    "proxyFilterText",
    "atom",
    "startup",
    "__webpack_require__",
    "result",
    "E"
  ],
  "mappings": "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",
  "file": "app.04bbe247db8cc9728c0d.js",
  "sourcesContent": [
    "import { getURLAndInit } from 'src/misc/request-helper';\nimport { ClashGeneralConfig } from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nconst endpoint = '/configs';\n\nexport async function fetchConfigs(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, init);\n}\n\n// TODO support PUT /configs\n// req body\n// { Path: string }\n\ntype ClashConfigPartial = Partial<ClashGeneralConfig>;\nfunction configsPatchWorkaround(o: ClashConfigPartial) {\n  // backward compatibility for older clash  using `socket-port`\n  if ('socks-port' in o) {\n    o['socket-port'] = o['socks-port'];\n  }\n  return o;\n}\n\nexport async function updateConfigs(\n  apiConfig: ClashAPIConfig,\n  o: ClashConfigPartial\n) {\n  const { url, init } = getURLAndInit(apiConfig);\n  const body = JSON.stringify(configsPatchWorkaround(o));\n  return await fetch(url + endpoint, { ...init, body, method: 'PATCH' });\n}\n",
    "import { ClashAPIConfig } from 'src/types';\n\nimport { buildWebSocketURL, getURLAndInit } from '../misc/request-helper';\n\nconst endpoint = '/connections';\n\nconst fetched = false;\nconst subscribers = [];\n\n// see also https://github.com/Dreamacro/clash/blob/dev/constant/metadata.go#L41\ntype UUID = string;\ntype ConnNetwork = 'tcp' | 'udp';\ntype ConnType = 'HTTP' | 'HTTP Connect' | 'Socks5' | 'Redir' | 'Unknown';\nexport type ConnectionItem = {\n  id: UUID;\n  metadata: {\n    network: ConnNetwork;\n    type: ConnType;\n    sourceIP: string;\n    destinationIP: string;\n    sourcePort: string;\n    destinationPort: string;\n    host: string;\n  };\n  upload: number;\n  download: number;\n  // e.g. \"2019-11-30T22:48:13.416668+08:00\",\n  start: string;\n  chains: string[];\n  // e.g. 'Match', 'DomainKeyword'\n  rule: string;\n};\ntype ConnectionsData = {\n  downloadTotal: number;\n  uploadTotal: number;\n  connections: Array<ConnectionItem>;\n};\n\nfunction appendData(s: string) {\n  let o: ConnectionsData;\n  try {\n    o = JSON.parse(s);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.log('JSON.parse error', JSON.parse(s));\n  }\n  subscribers.forEach((f) => f(o));\n}\n\ntype UnsubscribeFn = () => void;\n\nlet wsState: number;\nexport function fetchData(\n  apiConfig: ClashAPIConfig,\n  listener: unknown\n): UnsubscribeFn | void {\n  if (fetched || wsState === 1) {\n    if (listener) return subscribe(listener);\n  }\n  wsState = 1;\n  const url = buildWebSocketURL(apiConfig, endpoint);\n  const ws = new WebSocket(url);\n  ws.addEventListener('error', () => (wsState = 3));\n  ws.addEventListener('message', (event) => appendData(event.data));\n  if (listener) return subscribe(listener);\n}\n\nfunction subscribe(listener: unknown): UnsubscribeFn {\n  subscribers.push(listener);\n  return function unsubscribe() {\n    const idx = subscribers.indexOf(listener);\n    subscribers.splice(idx, 1);\n  };\n}\n\nexport async function closeAllConnections(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, { ...init, method: 'DELETE' });\n}\n\nexport async function fetchConns(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, { ...init });\n}\n\nexport async function closeConnById(apiConfig: ClashAPIConfig, id: string) {\n  const { url: baseURL, init } = getURLAndInit(apiConfig);\n  const url = `${baseURL}${endpoint}/${id}`;\n  return await fetch(url, { ...init, method: 'DELETE' });\n}\n",
    "import { buildWebSocketURL, getURLAndInit } from '../misc/request-helper';\nconst endpoint = '/traffic';\nconst textDecoder = new TextDecoder('utf-8');\n\nconst Size = 150;\n\nconst traffic = {\n  labels: Array(Size),\n  // labels: [],\n  up: Array(Size),\n  down: Array(Size),\n\n  size: Size,\n  subscribers: [],\n  appendData(o) {\n    this.up.push(o.up);\n    this.down.push(o.down);\n    const t = new Date();\n    const l = '' + t.getMinutes() + t.getSeconds();\n    this.labels.push(l);\n    if (this.up.length > this.size) this.up.shift();\n    if (this.down.length > this.size) this.down.shift();\n    if (this.labels.length > this.size) this.labels.shift();\n\n    this.subscribers.forEach((f) => f(o));\n  },\n\n  subscribe(listener) {\n    this.subscribers.push(listener);\n    return () => {\n      const idx = this.subscribers.indexOf(listener);\n      this.subscribers.splice(idx, 1);\n    };\n  },\n};\n\nlet fetched = false;\nlet decoded = '';\n\nfunction parseAndAppend(x) {\n  traffic.appendData(JSON.parse(x));\n}\n\nfunction pump(reader) {\n  return reader.read().then(({ done, value }) => {\n    const str = textDecoder.decode(value, { stream: !done });\n    decoded += str;\n\n    const splits = decoded.split('\\n');\n\n    const lastSplit = splits[splits.length - 1];\n\n    for (let i = 0; i < splits.length - 1; i++) {\n      parseAndAppend(splits[i]);\n    }\n\n    if (done) {\n      parseAndAppend(lastSplit);\n      decoded = '';\n\n      // eslint-disable-next-line no-console\n      console.log('GET /traffic streaming done');\n      fetched = false;\n      return;\n    } else {\n      decoded = lastSplit;\n    }\n    return pump(reader);\n  });\n}\n\n// 1 OPEN\n// other value CLOSED\n// similar to ws readyState but not the same\n// https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/readyState\nlet wsState;\nfunction fetchData(apiConfig) {\n  if (fetched || wsState === 1) return traffic;\n  wsState = 1;\n  const url = buildWebSocketURL(apiConfig, endpoint);\n  const ws = new WebSocket(url);\n  ws.addEventListener('error', function (_ev) {\n    wsState = 3;\n  });\n  ws.addEventListener('close', function (_ev) {\n    wsState = 3;\n    fetchDataWithFetch(apiConfig);\n  });\n  ws.addEventListener('message', function (event) {\n    parseAndAppend(event.data);\n  });\n  return traffic;\n}\n\nfunction fetchDataWithFetch(apiConfig) {\n  if (fetched) return traffic;\n  fetched = true;\n  const { url, init } = getURLAndInit(apiConfig);\n  fetch(url + endpoint, init).then(\n    (response) => {\n      if (response.ok) {\n        const reader = response.body.getReader();\n        pump(reader);\n      } else {\n        fetched = false;\n      }\n    },\n    (err) => {\n      // eslint-disable-next-line no-console\n      console.log('fetch /traffic error', err);\n      fetched = false;\n    }\n  );\n  return traffic;\n}\n\nexport { fetchData };\n",
    "import i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport HttpBackend from 'i18next-http-backend';\nimport { initReactI18next } from 'react-i18next';\n\nconst allLocales = {\n  zh: import('src/i18n/zh'),\n  en: import('src/i18n/en'),\n};\n\ntype BackendRequestCallback = (\n  err: null,\n  result: { status: number; data: any }\n) => void;\n\ni18next\n  .use(HttpBackend)\n  .use(initReactI18next)\n  .use(LanguageDetector)\n  .init({\n    debug: process.env.NODE_ENV === 'development',\n    // resources,\n    backend: {\n      loadPath: '/__{{lng}}/{{ns}}.json',\n      request: function (\n        _options: any,\n        url: string,\n        _payload: any,\n        callback: BackendRequestCallback\n      ) {\n        let p: PromiseLike<{ data: any }>;\n\n        switch (url) {\n          case '/__zh/translation.json':\n          case '/__zh-CN/translation.json':\n            p = allLocales.zh;\n            break;\n          case '/__en/translation.json':\n          default:\n            p = allLocales.en;\n            break;\n        }\n\n        if (p) {\n          p.then((mod) => {\n            callback(null, { status: 200, data: mod.data });\n          });\n        }\n      },\n    },\n    supportedLngs: ['en', 'zh-CN'],\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nif (process.env.NODE_ENV === 'development') {\n  window.i18n = i18next;\n}\n\nexport default i18next;\n",
    "import { getURLAndInit } from 'src/misc/request-helper';\nimport { ClashAPIConfig } from 'src/types';\n\ntype VersionData = {\n  version?: string;\n  premium?: boolean;\n};\n\nexport async function fetchVersion(\n  endpoint: string,\n  apiConfig: ClashAPIConfig\n): Promise<VersionData> {\n  let json = {};\n  try {\n    const { url, init } = getURLAndInit(apiConfig);\n    const res = await fetch(url + endpoint, init);\n    if (res.ok) {\n      json = await res.json();\n    }\n  } catch (err) {\n    // log and ignore\n    // eslint-disable-next-line no-console\n    console.log(`failed to fetch ${endpoint}`, err);\n  }\n  return json;\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"cHbZy_rAHf\",\"mono\":\"_2SNe_x81Ib\",\"link\":\"LUI6m76ply\"};",
    "import * as React from 'react';\nimport { GitHub } from 'react-feather';\nimport { useQuery } from 'react-query';\nimport { fetchVersion } from 'src/api/version';\nimport ContentHeader from 'src/components/ContentHeader';\nimport { connect } from 'src/components/StateProvider';\nimport { getClashAPIConfig } from 'src/store/app';\nimport { ClashAPIConfig } from 'src/types';\n\nimport s from './About.module.css';\n\ntype Props = { apiConfig: ClashAPIConfig };\n\nfunction Version({\n  name,\n  link,\n  version,\n}: {\n  name: string;\n  link: string;\n  version: string;\n}) {\n  return (\n    <div className={s.root}>\n      <h2>{name}</h2>\n      <p>\n        <span>Version </span>\n        <span className={s.mono}>{version}</span>\n      </p>\n      <p>\n        <a\n          className={s.link}\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <GitHub size={20} />\n          <span>Source</span>\n        </a>\n      </p>\n    </div>\n  );\n}\n\nfunction AboutImpl(props: Props) {\n  const { data: version } = useQuery(\n    ['/version', props.apiConfig],\n    fetchVersion,\n    {\n      suspense: true,\n    }\n  );\n  return (\n    <>\n      <ContentHeader title=\"About\" />\n      {version && version.version ? (\n        <Version\n          name=\"Clash\"\n          version={version.version}\n          link=\"https://github.com/Dreamacro/clash\"\n        />\n      ) : null}\n      <Version\n        name=\"Yacd\"\n        version={__VERSION__}\n        link=\"https://github.com/haishanh/yacd\"\n      />\n    </>\n  );\n}\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nexport const About = connect(mapState)(AboutImpl);\n",
    "import * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'src/components/StateProvider';\nimport { getClashAPIConfig } from 'src/store/app';\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nfunction HeadImpl({ apiConfig }: { apiConfig: { baseURL: string } }) {\n  let title = 'yacd';\n  try {\n    title = new URL(apiConfig.baseURL).host;\n  } catch (e) {\n    // ignore\n  }\n  return (\n    <Helmet>\n      <title>{title}</title>\n    </Helmet>\n  );\n}\n\nexport const Head = connect(mapState)(HeadImpl);\n",
    "import {\n  initialState as app,\n  removeClashAPIConfig,\n  selectChartStyleIndex,\n  selectClashAPIConfig,\n  updateAppConfig,\n  updateCollapsibleIsOpen,\n} from './app';\nimport { initialState as configs } from './configs';\nimport { initialState as logs } from './logs';\nimport { initialState as modals } from './modals';\nimport { actions as proxiesActions, initialState as proxies } from './proxies';\n\nexport const initialState = {\n  app: app(),\n  modals,\n  configs,\n  proxies,\n  logs,\n};\n\nexport const actions = {\n  selectChartStyleIndex,\n  updateAppConfig,\n\n  app: {\n    updateCollapsibleIsOpen,\n    updateAppConfig,\n    removeClashAPIConfig,\n    selectClashAPIConfig,\n  },\n  proxies: proxiesActions,\n};\n",
    "import React from 'react';\n\nconst { useState, useCallback } = React;\n\nexport function useToggle(initialValue = false) {\n  const [isOn, setState] = useState(initialValue);\n  const toggle = useCallback(() => setState((x) => !x), []);\n  return [isOn, toggle];\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"ul\":\"_1MP9tbO2C9\",\"li\":\"_39O4-s-qNw\",\"close\":\"_3U13UgV7Z1\",\"eye\":\"ipx6os2H89\",\"hasSecret\":\"_3GP8CDySTd\",\"url\":\"PK8GjRW5ZI\",\"secret\":\"_2-iwpHoCB6\",\"btn\":\"S1-PNvCcRP\"};",
    "import cx from 'clsx';\nimport * as React from 'react';\nimport { Eye, EyeOff, X as Close } from 'react-feather';\nimport { useToggle } from 'src/hooks/basic';\nimport {\n  getClashAPIConfigs,\n  getSelectedClashAPIConfigIndex,\n} from 'src/store/app';\nimport { ClashAPIConfig } from 'src/types';\n\nimport s from './BackendList.module.css';\nimport { connect, useStoreActions } from './StateProvider';\n\ntype Config = ClashAPIConfig & { addedAt: number };\n\nconst mapState = (s) => ({\n  apiConfigs: getClashAPIConfigs(s),\n  selectedClashAPIConfigIndex: getSelectedClashAPIConfigIndex(s),\n});\n\nexport const BackendList = connect(mapState)(BackendListImpl);\n\nfunction BackendListImpl({\n  apiConfigs,\n  selectedClashAPIConfigIndex,\n}: {\n  apiConfigs: Config[];\n  selectedClashAPIConfigIndex: number;\n}) {\n  const {\n    app: { removeClashAPIConfig, selectClashAPIConfig },\n  } = useStoreActions();\n\n  const onRemove = React.useCallback(\n    (conf: ClashAPIConfig) => {\n      removeClashAPIConfig(conf);\n    },\n    [removeClashAPIConfig]\n  );\n  const onSelect = React.useCallback(\n    (conf: ClashAPIConfig) => {\n      selectClashAPIConfig(conf);\n    },\n    [selectClashAPIConfig]\n  );\n\n  return (\n    <>\n      <ul className={s.ul}>\n        {apiConfigs.map((item, idx) => {\n          return (\n            <li\n              className={cx(s.li, {\n                [s.hasSecret]: item.secret,\n                [s.isSelected]: idx === selectedClashAPIConfigIndex,\n              })}\n              key={item.baseURL + item.secret}\n            >\n              <Item\n                disableRemove={idx === selectedClashAPIConfigIndex}\n                baseURL={item.baseURL}\n                secret={item.secret}\n                onRemove={onRemove}\n                onSelect={onSelect}\n              />\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nfunction Item({\n  baseURL,\n  secret,\n  disableRemove,\n  onRemove,\n  onSelect,\n}: {\n  baseURL: string;\n  secret: string;\n  disableRemove: boolean;\n  onRemove: (x: ClashAPIConfig) => void;\n  onSelect: (x: ClashAPIConfig) => void;\n}) {\n  const [show, toggle] = useToggle();\n  const Icon = show ? EyeOff : Eye;\n\n  const handleTap = React.useCallback((e: React.KeyboardEvent) => {\n    e.stopPropagation();\n  }, []);\n\n  return (\n    <>\n      <Button\n        disabled={disableRemove}\n        onClick={() => onRemove({ baseURL, secret })}\n        className={s.close}\n      >\n        <Close size={20} />\n      </Button>\n      <span\n        className={s.url}\n        tabIndex={0}\n        role=\"button\"\n        onClick={() => onSelect({ baseURL, secret })}\n        onKeyUp={handleTap}\n      >\n        {baseURL}\n      </span>\n      <span />\n      {secret ? (\n        <>\n          <span className={s.secret}>{show ? secret : '***'}</span>\n\n          {/* @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean | (() => void)' is not assignable to... Remove this comment to see the full error message */}\n          <Button onClick={toggle} className={s.eye}>\n            <Icon size={20} />\n          </Button>\n        </>\n      ) : null}\n    </>\n  );\n}\n\nfunction Button({\n  children,\n  onClick,\n  className,\n  disabled,\n}: {\n  children: React.ReactNode;\n\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => unknown;\n  className: string;\n  disabled?: boolean;\n}) {\n  return (\n    <button\n      disabled={disabled}\n      className={cx(className, s.btn)}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2-70itbuF1\",\"header\":\"JKE-0c5hxF\",\"icon\":\"o2VhY_cs6Z\",\"body\":\"_3QDGxJ_pWs\",\"hostnamePort\":\"tTZzzcEsTA\",\"error\":\"_2cCgtjpQZP\",\"footer\":\"_3OT00Mqmrw\"};",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2uN43zExEi\",\"floatAbove\":\"_2gQ0j5OHC8\"};",
    "import cx from 'clsx';\nimport React from 'react';\n\nimport s from './Field.module.css';\n\nconst { useCallback } = React;\n\ntype Props = {\n  value?: string | number;\n  type?: 'text' | 'number';\n  onChange?: (...args: any[]) => any;\n  id?: string;\n  label?: string;\n};\n\nexport default function Field({ id, label, value, onChange, ...props }: Props) {\n  const valueOnChange = useCallback((e) => onChange(e), [onChange]);\n  const labelClassName = cx({\n    [s.floatAbove]: typeof value === 'string' && value !== '',\n  });\n  return (\n    <div className={s.root}>\n      <input id={id} value={value} onChange={valueOnChange} {...props} />\n      <label htmlFor={id} className={labelClassName}>\n        {label}\n      </label>\n    </div>\n  );\n}\n",
    "import * as React from 'react';\nimport { fetchConfigs } from 'src/api/configs';\nimport { BackendList } from 'src/components/BackendList';\nimport { ClashAPIConfig } from 'src/types';\n\nimport { addClashAPIConfig, getClashAPIConfig } from '../store/app';\nimport s0 from './APIConfig.module.css';\nimport Button from './Button';\nimport Field from './Field';\nimport { connect } from './StateProvider';\nimport SvgYacd from './SvgYacd';\n\nconst { useState, useRef, useCallback } = React;\nconst Ok = 0;\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nfunction APIConfig({ dispatch }) {\n  const [baseURL, setBaseURL] = useState('');\n  const [secret, setSecret] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n\n  const userTouchedFlagRef = useRef(false);\n  const contentEl = useRef(null);\n\n  const handleInputOnChange = useCallback((e) => {\n    userTouchedFlagRef.current = true;\n    setErrMsg('');\n    const target = e.target;\n    const { name } = target;\n    const value = target.value;\n    switch (name) {\n      case 'baseURL':\n        setBaseURL(value);\n        break;\n      case 'secret':\n        setSecret(value);\n        break;\n      default:\n        throw new Error(`unknown input name ${name}`);\n    }\n  }, []);\n\n  const onConfirm = useCallback(() => {\n    verify({ baseURL, secret }).then((ret) => {\n      if (ret[0] !== Ok) {\n        setErrMsg(ret[1]);\n      } else {\n        dispatch(addClashAPIConfig({ baseURL, secret }));\n      }\n    });\n  }, [baseURL, secret, dispatch]);\n\n  const handleContentOnKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (\n        e.target instanceof Element &&\n        (!e.target.tagName || e.target.tagName.toUpperCase() !== 'INPUT')\n      ) {\n        return;\n      }\n      if (e.key !== 'Enter') return;\n\n      onConfirm();\n    },\n    [onConfirm]\n  );\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div className={s0.root} ref={contentEl} onKeyDown={handleContentOnKeyDown}>\n      <div className={s0.header}>\n        <div className={s0.icon}>\n          <SvgYacd width={160} height={160} />\n        </div>\n      </div>\n      <div className={s0.body}>\n        <div className={s0.hostnamePort}>\n          <Field\n            id=\"baseURL\"\n            // @ts-expect-error ts-migrate(2322) FIXME: Type '{ id: string; name: string; label: string; t... Remove this comment to see the full error message\n            name=\"baseURL\"\n            label=\"API Base URL\"\n            type=\"text\"\n            value={baseURL}\n            onChange={handleInputOnChange}\n          />\n          <Field\n            id=\"secret\"\n            // @ts-expect-error ts-migrate(2322) FIXME: Type '{ id: string; name: string; label: string; v... Remove this comment to see the full error message\n            name=\"secret\"\n            label=\"Secret(optional)\"\n            value={secret}\n            type=\"text\"\n            onChange={handleInputOnChange}\n          />\n        </div>\n      </div>\n      <div className={s0.error}>{errMsg ? errMsg : null}</div>\n      <div className={s0.footer}>\n        <Button label=\"Add\" onClick={onConfirm} />\n      </div>\n      <div style={{ height: 20 }} />\n      <BackendList />\n    </div>\n  );\n}\n\nexport default connect(mapState)(APIConfig);\n\nasync function verify(apiConfig: ClashAPIConfig): Promise<[number, string?]> {\n  try {\n    new URL(apiConfig.baseURL);\n  } catch (e) {\n    if (apiConfig.baseURL) {\n      const prefix = apiConfig.baseURL.substring(0, 7);\n      if (prefix !== 'http://' && prefix !== 'https:/') {\n        return [1, 'Must starts with http:// or https://'];\n      }\n    }\n\n    return [1, 'Invalid URL'];\n  }\n  try {\n    const res = await fetchConfigs(apiConfig);\n    if (res.status > 399) {\n      return [1, res.statusText];\n    }\n    return [Ok];\n  } catch (e) {\n    return [1, 'Failed to connect'];\n  }\n}\n",
    "export const DOES_NOT_SUPPORT_FETCH = 0;\n\nexport const errors = {\n  [DOES_NOT_SUPPORT_FETCH]: {\n    message: 'Browser not supported!',\n    detail: 'This browser does not support \"fetch\", please choose another one.',\n  },\n  default: {\n    message: 'Oops, something went wrong!',\n  },\n};\n\nexport type Err = { code: number };\n\nexport function deriveMessageFromError(err: Err) {\n  const { code } = err;\n  if (typeof code === 'number') {\n    return errors[code];\n  }\n  return errors.default;\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_2vs8ks4GvR\",\"container\":\"Z8vSJz0PbL\",\"overlay\":\"EWfRQXOK8M\"};",
    "import cx from 'clsx';\nimport React from 'react';\nimport Modal from 'react-modal';\n\nimport s0 from './Modal.module.css';\n\ntype Props = {\n  isOpen: boolean;\n  onRequestClose: (...args: any[]) => any;\n  children: React.ReactNode;\n  className?: string;\n  overlayClassName?: string;\n};\n\nfunction ModalAPIConfig({\n  isOpen,\n  onRequestClose,\n  className,\n  overlayClassName,\n  children,\n  ...otherProps\n}: Props) {\n  const contentCls = cx(className, s0.content);\n  const overlayCls = cx(overlayClassName, s0.overlay);\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}\n      className={contentCls}\n      overlayClassName={overlayCls}\n      {...otherProps}\n    >\n      {children}\n    </Modal>\n  );\n}\n\nexport default React.memo(ModalAPIConfig);\n",
    "import React from 'react';\n\nimport { DOES_NOT_SUPPORT_FETCH, errors } from '../misc/errors';\nimport { getClashAPIConfig } from '../store/app';\nimport { fetchConfigs } from '../store/configs';\nimport { closeModal } from '../store/modals';\nimport APIConfig from './APIConfig';\nimport s0 from './APIDiscovery.module.css';\nimport Modal from './Modal';\nimport { connect } from './StateProvider';\n\nconst { useCallback, useEffect } = React;\n\nfunction APIDiscovery({ dispatch, apiConfig, modals }) {\n  if (!window.fetch) {\n    const { detail } = errors[DOES_NOT_SUPPORT_FETCH];\n    const err = new Error(detail);\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'code' does not exist on type 'Error'.\n    err.code = DOES_NOT_SUPPORT_FETCH;\n    throw err;\n  }\n\n  const closeApiConfigModal = useCallback(() => {\n    dispatch(closeModal('apiConfig'));\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(fetchConfigs(apiConfig));\n  }, [dispatch, apiConfig]);\n\n  return (\n    <Modal\n      isOpen={modals.apiConfig}\n      className={s0.content}\n      overlayClassName={s0.overlay}\n      // @ts-expect-error ts-migrate(2322) FIXME: Type '{ children: Element; isOpen: any; className:... Remove this comment to see the full error message\n      shouldCloseOnOverlayClick={false}\n      shouldCloseOnEsc={false}\n      onRequestClose={closeApiConfigModal}\n    >\n      <div className={s0.container}>\n        <APIConfig />\n      </div>\n    </Modal>\n  );\n}\n\nconst mapState = (s) => ({\n  modals: s.modals,\n  apiConfig: getClashAPIConfig(s),\n});\n\nexport default connect(mapState)(APIDiscovery);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_113JVByWGF\",\"yacd\":\"_1m2ZsnzFvt\",\"link\":\"_3TKFOM4Tgj\"};",
    "import React from 'react';\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function SvgGithub({ width = 24, height = 24 }: Props = {}) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={height}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\" />\n    </svg>\n  );\n}\n",
    "import React from 'react';\n\nimport s0 from './ErrorBoundaryFallback.module.css';\nimport SvgGithub from './SvgGithub';\nimport SvgYacd from './SvgYacd';\nconst yacdRepoIssueUrl = 'https://github.com/haishanh/yacd/issues';\n\ntype Props = {\n  message?: string;\n  detail?: string;\n};\n\nfunction ErrorBoundaryFallback({ message, detail }: Props) {\n  return (\n    <div className={s0.root}>\n      <div className={s0.yacd}>\n        <SvgYacd width={150} height={150} />\n      </div>\n      {message ? <h1>{message}</h1> : null}\n      {detail ? <p>{detail}</p> : null}\n      <p>\n        <a className={s0.link} href={yacdRepoIssueUrl}>\n          <SvgGithub width={16} height={16} />\n          haishanh/yacd\n        </a>\n      </p>\n    </div>\n  );\n}\n\nexport default ErrorBoundaryFallback;\n",
    "import * as React from 'react';\n\n// import { getSentry } from '../misc/sentry';\nimport { deriveMessageFromError, Err } from '../misc/errors';\nimport ErrorBoundaryFallback from './ErrorBoundaryFallback';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\ntype State = {\n  error?: Err;\n};\n\nclass ErrorBoundary extends React.Component<Props, State> {\n  state = { error: null };\n\n  static getDerivedStateFromError(error: Err) {\n    return { error };\n  }\n\n  render() {\n    if (this.state.error) {\n      const { message, detail } = deriveMessageFromError(this.state.error);\n      return <ErrorBoundaryFallback message={message} detail={detail} />;\n    } else {\n      return this.props.children;\n    }\n  }\n}\n\nexport default ErrorBoundary;\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2kr0S-YLqE\"};",
    "// extracted by mini-css-extract-plugin\nexport default {\"loading\":\"_12V5kDiPEH\",\"pulse\":\"_2FcudZSVil\",\"pulseScaleOut\":\"_3gvFm3l86P\"};",
    "import React from 'react';\n\nimport s0 from './Loading.module.css';\n\ntype Props = {\n  height?: string;\n};\n\nconst Loading = ({ height }: Props) => {\n  const style = height ? { height } : {};\n  return (\n    <div className={s0.loading} style={style}>\n      <div className={s0.pulse} />\n    </div>\n  );\n};\n\nexport default Loading;\n",
    "import * as React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { fetchData } from '../api/traffic';\nimport useLineChart from '../hooks/useLineChart';\nimport {\n  chartJSResource,\n  chartStyles,\n  commonDataSetProps,\n} from '../misc/chart';\nimport { getClashAPIConfig, getSelectedChartStyleIndex } from '../store/app';\nimport { connect } from './StateProvider';\n\nconst { useMemo } = React;\n\nconst chartWrapperStyle = {\n  // make chartjs chart responsive\n  position: 'relative',\n  maxWidth: 1000,\n};\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n  selectedChartStyleIndex: getSelectedChartStyleIndex(s),\n});\n\nexport default connect(mapState)(TrafficChart);\n\nfunction TrafficChart({ apiConfig, selectedChartStyleIndex }) {\n  const Chart = chartJSResource.read();\n  const traffic = fetchData(apiConfig);\n  const { t } = useTranslation();\n  const data = useMemo(\n    () => ({\n      labels: traffic.labels,\n      datasets: [\n        {\n          ...commonDataSetProps,\n          ...chartStyles[selectedChartStyleIndex].up,\n          label: t('Up'),\n          data: traffic.up,\n        },\n        {\n          ...commonDataSetProps,\n          ...chartStyles[selectedChartStyleIndex].down,\n          label: t('Down'),\n          data: traffic.down,\n        },\n      ],\n    }),\n    [traffic, selectedChartStyleIndex, t]\n  );\n\n  useLineChart(Chart, 'trafficChart', data, traffic);\n\n  return (\n    // @ts-expect-error ts-migrate(2322) FIXME: Type '{ position: string; maxWidth: number; }' is ... Remove this comment to see the full error message\n    <div style={chartWrapperStyle}>\n      <canvas id=\"trafficChart\" />\n    </div>\n  );\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"TrafficNow\":\"_2n4kL7wLDR\"};",
    "import * as React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport * as connAPI from '../api/connections';\nimport { fetchData } from '../api/traffic';\nimport prettyBytes from '../misc/pretty-bytes';\nimport { getClashAPIConfig } from '../store/app';\nimport { connect } from './StateProvider';\nimport s0 from './TrafficNow.module.css';\n\nconst { useState, useEffect, useCallback } = React;\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\nexport default connect(mapState)(TrafficNow);\n\nfunction TrafficNow({ apiConfig }) {\n  const { t } = useTranslation();\n  const { upStr, downStr } = useSpeed(apiConfig);\n  const { upTotal, dlTotal, connNumber } = useConnection(apiConfig);\n  return (\n    <div className={s0.TrafficNow}>\n      <div className=\"sec\">\n        <div>{t('Upload')}</div>\n        <div>{upStr}</div>\n      </div>\n      <div className=\"sec\">\n        <div>{t('Download')}</div>\n        <div>{downStr}</div>\n      </div>\n      <div className=\"sec\">\n        <div>{t('Upload Total')}</div>\n        <div>{upTotal}</div>\n      </div>\n      <div className=\"sec\">\n        <div>{t('Download Total')}</div>\n        <div>{dlTotal}</div>\n      </div>\n      <div className=\"sec\">\n        <div>{t('Active Connections')}</div>\n        <div>{connNumber}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction useSpeed(apiConfig) {\n  const [speed, setSpeed] = useState({ upStr: '0 B/s', downStr: '0 B/s' });\n  useEffect(() => {\n    return fetchData(apiConfig).subscribe((o) =>\n      setSpeed({\n        upStr: prettyBytes(o.up) + '/s',\n        downStr: prettyBytes(o.down) + '/s',\n      })\n    );\n  }, [apiConfig]);\n  return speed;\n}\n\nfunction useConnection(apiConfig) {\n  const [state, setState] = useState({\n    upTotal: '0 B',\n    dlTotal: '0 B',\n    connNumber: 0,\n  });\n  const read = useCallback(\n    ({ downloadTotal, uploadTotal, connections }) => {\n      setState({\n        upTotal: prettyBytes(uploadTotal),\n        dlTotal: prettyBytes(downloadTotal),\n        connNumber: connections.length,\n      });\n    },\n    [setState]\n  );\n  useEffect(() => {\n    return connAPI.fetchData(apiConfig, read);\n  }, [apiConfig, read]);\n  return state;\n}\n",
    "import React, { Suspense } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport ContentHeader from './ContentHeader';\nimport s0 from './Home.module.css';\nimport Loading from './Loading';\nimport TrafficChart from './TrafficChart';\nimport TrafficNow from './TrafficNow';\n\nexport default function Home() {\n  const { t } = useTranslation();\n  return (\n    <div>\n      <ContentHeader title={t('Overview')} />\n      <div className={s0.root}>\n        <div>\n          <TrafficNow />\n        </div>\n        <div className={s0.chart}>\n          <Suspense fallback={<Loading height=\"200px\" />}>\n            <TrafficChart />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"lo\":\"_2fg1R7Zu62\"};",
    "import React from 'react';\n\nimport s0 from './Loading2.module.css';\nimport SvgYacd from './SvgYacd';\n\nfunction Loading() {\n  return (\n    <div className={s0.lo}>\n      <SvgYacd width={280} height={280} animate c0=\"transparent\" c1=\"#646464\" />\n    </div>\n  );\n}\n\nexport default Loading;\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"app\":\"_1X99PPGcn7\",\"content\":\"_2oV8uPP0dj\"};",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3sTuXodYya\",\"logoPlaceholder\":\"_1WdrygzFVZ\",\"rows\":\"q9nBJwAvlz\",\"row\":\"_3yqSXpep4D\",\"rowActive\":\"_3wqPc_btNi\",\"label\":\"_2sd59kze-t\",\"footer\":\"_2o6aUGu--S\",\"iconWrapper\":\"_11NITPe4W7\",\"themeSwitchContainer\":\"_1kzEILbWHq\"};",
    "import Tooltip from '@reach/tooltip';\nimport cx from 'clsx';\nimport * as React from 'react';\nimport { Info } from 'react-feather';\nimport { useTranslation } from 'react-i18next';\nimport {\n  FcAreaChart,\n  FcDocument,\n  FcGlobe,\n  FcLink,\n  FcRuler,\n  FcSettings,\n} from 'react-icons/fc';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { framerMotionResouce } from '../misc/motion';\nimport { getTheme, switchTheme } from '../store/app';\nimport s from './SideBar.module.css';\nimport { connect } from './StateProvider';\n\nconst { useCallback } = React;\n\nconst icons = {\n  activity: FcAreaChart,\n  globe: FcGlobe,\n  command: FcRuler,\n  file: FcDocument,\n  settings: FcSettings,\n  link: FcLink,\n};\n\nconst SideBarRow = React.memo(function SideBarRow({\n  isActive,\n  to,\n  iconId,\n  labelText,\n}: SideBarRowProps) {\n  const Comp = icons[iconId];\n  const className = cx(s.row, isActive ? s.rowActive : null);\n  return (\n    <Link to={to} className={className}>\n      <Comp />\n      <div className={s.label}>{labelText}</div>\n    </Link>\n  );\n});\n\ninterface SideBarRowProps {\n  isActive: boolean;\n  to: string;\n  iconId?: string;\n  labelText?: string;\n}\n\nconst pages = [\n  {\n    to: '/',\n    iconId: 'activity',\n    labelText: 'Overview',\n  },\n  {\n    to: '/proxies',\n    iconId: 'globe',\n    labelText: 'Proxies',\n  },\n  {\n    to: '/rules',\n    iconId: 'command',\n    labelText: 'Rules',\n  },\n  {\n    to: '/connections',\n    iconId: 'link',\n    labelText: 'Conns',\n  },\n  {\n    to: '/configs',\n    iconId: 'settings',\n    labelText: 'Config',\n  },\n  {\n    to: '/logs',\n    iconId: 'file',\n    labelText: 'Logs',\n  },\n];\n\nfunction SideBar({ dispatch, theme }) {\n  const { t } = useTranslation();\n  const location = useLocation();\n  const switchThemeHooked = useCallback(() => {\n    dispatch(switchTheme());\n  }, [dispatch]);\n  return (\n    <div className={s.root}>\n      <div className={s.logoPlaceholder} />\n      <div className={s.rows}>\n        {pages.map(({ to, iconId, labelText }) => (\n          <SideBarRow\n            key={to}\n            to={to}\n            isActive={location.pathname === to}\n            iconId={iconId}\n            labelText={t(labelText)}\n          />\n        ))}\n      </div>\n      <div className={s.footer}>\n        <Tooltip\n          label={t('theme')}\n          aria-label={\n            'switch to ' + (theme === 'light' ? 'dark' : 'light') + ' theme'\n          }\n        >\n          <button\n            className={cx(s.iconWrapper, s.themeSwitchContainer)}\n            onClick={switchThemeHooked}\n          >\n            {theme === 'light' ? <MoonA /> : <Sun />}\n          </button>\n        </Tooltip>\n        <Tooltip label={t('about')}>\n          <Link to=\"/about\" className={s.iconWrapper}>\n            <Info size={20} />\n          </Link>\n        </Tooltip>\n      </div>\n    </div>\n  );\n}\n\nfunction MoonA() {\n  const module = framerMotionResouce.read();\n  const motion = module.motion;\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <motion.path\n        d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n        initial={{ rotate: -30 }}\n        animate={{ rotate: 0 }}\n        transition={{ duration: 0.7 }}\n      />\n    </svg>\n  );\n}\n\nfunction Sun() {\n  const module = framerMotionResouce.read();\n  const motion = module.motion;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>\n      <motion.g\n        initial={{ scale: 0.8 }}\n        animate={{ scale: 1 }}\n        transition={{ duration: 0.7 }}\n      >\n        <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>\n        <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>\n        <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>\n        <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>\n        <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>\n        <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>\n        <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>\n        <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>\n      </motion.g>\n    </svg>\n  );\n}\n\nconst mapState = (s) => ({ theme: getTheme(s) });\nexport default connect(mapState)(SideBar);\n",
    "import React, { PureComponent } from 'react';\nimport { Zap } from 'react-feather';\n\nimport Button from './Button';\nimport Input from './Input';\nimport { LoadingDot } from './shared/Basic';\nimport SwitchThemed from './SwitchThemed';\nimport ToggleSwitch from './ToggleSwitch';\n\nconst noop = () => {\n  /* empty */\n};\n\nconst paneStyle = {\n  padding: '20px 0',\n};\n\nconst optionsRule = [\n  {\n    label: 'Global',\n    value: 'Global',\n  },\n  {\n    label: 'Rule',\n    value: 'Rule',\n  },\n  {\n    label: 'Direct',\n    value: 'Direct',\n  },\n];\n\nconst Pane = ({ children, style }) => (\n  <div style={{ ...paneStyle, ...style }}>{children}</div>\n);\n\nfunction useToggle(initialState = false) {\n  const [onoff, setonoff] = React.useState(initialState);\n  const handleChange = React.useCallback(() => {\n    setonoff((x) => !x);\n  }, []);\n  return [onoff, handleChange];\n}\n\nfunction SwitchExample() {\n  const [checked, handleChange] = useToggle(false);\n  return <SwitchThemed checked={checked} onChange={handleChange} />;\n}\n\nclass StyleGuide extends PureComponent {\n  render() {\n    return (\n      <div>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <SwitchExample />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <Input />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <ToggleSwitch\n            name=\"test\"\n            options={optionsRule}\n            value=\"Rule\"\n            onChange={noop}\n          />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <Button text=\"Test Lxatency\" start={<Zap size={16} />} />\n          <Button text=\"Test Lxatency\" start={<Zap size={16} />} isLoading />\n          <Button label=\"Test Lxatency\" />\n          <Button label=\"Button Plain\" kind=\"minimal\" />\n        </Pane>\n        <Pane style={{ paddingLeft: 20 }}>\n          <LoadingDot />\n        </Pane>\n      </div>\n    );\n  }\n}\n\nexport default StyleGuide;\n",
    "import './Root.css';\n\nimport React, { lazy, Suspense } from 'react';\nimport { PartialRouteObject } from 'react-router';\nimport { HashRouter as Router, useRoutes } from 'react-router-dom';\nimport { RecoilRoot } from 'recoil';\nimport { About } from 'src/components/about/About';\nimport { Head } from 'src/components/shared/Head';\n\nimport { actions, initialState } from '../store';\nimport APIConfig from './APIConfig';\nimport APIDiscovery from './APIDiscovery';\nimport ErrorBoundary from './ErrorBoundary';\nimport Home from './Home';\nimport Loading2 from './Loading2';\nimport s0 from './Root.module.css';\nimport SideBar from './SideBar';\nimport StateProvider from './StateProvider';\nimport StyleGuide from './StyleGuide';\n\nconst Connections = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"conns\" */\n      /* webpackPrefetch: true */\n      './Connections'\n    )\n);\nconst Config = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"config\" */\n      /* webpackPrefetch: true */\n      './Config'\n    )\n);\nconst Logs = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"logs\" */\n      /* webpackPrefetch: true */\n      './Logs'\n    )\n);\nconst Proxies = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"proxies\" */\n      /* webpackPrefetch: true */\n      './proxies/Proxies'\n    )\n);\nconst Rules = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"rules\" */\n      /* webpackPrefetch: true */\n      './Rules'\n    )\n);\n\nconst routes = [\n  { path: '/', element: <Home /> },\n  { path: '/connections', element: <Connections /> },\n  { path: '/configs', element: <Config /> },\n  { path: '/logs', element: <Logs /> },\n  { path: '/proxies', element: <Proxies /> },\n  { path: '/rules', element: <Rules /> },\n  { path: '/about', element: <About /> },\n  __DEV__ ? { path: '/style', element: <StyleGuide /> } : false,\n].filter(Boolean) as PartialRouteObject[];\n\nfunction RouteInnerApp() {\n  return useRoutes(routes);\n}\n\nfunction SideBarApp() {\n  return (\n    <>\n      <APIDiscovery />\n      <SideBar />\n      <div className={s0.content}>\n        <Suspense fallback={<Loading2 />}>\n          <RouteInnerApp />\n        </Suspense>\n      </div>\n    </>\n  );\n}\n\nfunction App() {\n  return useRoutes([\n    { path: '/backend', element: <APIConfig /> },\n    { path: '*', element: <SideBarApp /> },\n  ]);\n}\n\nconst Root = () => (\n  <ErrorBoundary>\n    <RecoilRoot>\n      <StateProvider initialState={initialState} actions={actions}>\n        <Router>\n          <div className={s0.app}>\n            <Head />\n            <Suspense fallback={<Loading2 />}>\n              <App />\n            </Suspense>\n          </div>\n        </Router>\n      </StateProvider>\n    </RecoilRoot>\n  </ErrorBoundary>\n);\n\nexport default Root;\n",
    "const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service worker'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n",
    "import 'modern-normalize/modern-normalize.css';\nimport './misc/i18n';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\n\nimport Root from './components/Root';\nimport * as swRegistration from './swRegistration';\n\nconst rootEl = document.getElementById('app');\n\nModal.setAppElement(rootEl);\n\nconst root = ReactDOM.unstable_createRoot(rootEl);\nroot.render(<Root />);\n\nswRegistration.register();\n\n// eslint-disable-next-line no-console\nconsole.log('Checkout the repo: https://github.com/haishanh/yacd');\n// eslint-disable-next-line\nconsole.log('Version:', __VERSION__);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"_796AqwOFs_\",\"minimal\":\"_1bLZvI40oA\",\"btnStart\":\"_1SrCTG7yDt\",\"loadingContainer\":\"_39VuJRXAmL\"};",
    "import cx from 'clsx';\nimport * as React from 'react';\n\nimport s0 from './Button.module.css';\nimport { LoadingDot } from './shared/Basic';\n\nconst { forwardRef, useCallback } = React;\n\ntype ButtonInternalProps = {\n  children?: React.ReactNode;\n  label?: string;\n  text?: string;\n  start?: React.ReactElement | (() => React.ReactElement);\n};\n\ntype ButtonProps = {\n  isLoading?: boolean;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => unknown;\n  disabled?: boolean;\n  kind?: 'primary' | 'minimal';\n  className?: string;\n  title?: string;\n} & ButtonInternalProps;\n\nfunction Button(props: ButtonProps, ref: React.Ref<HTMLButtonElement>) {\n  const {\n    onClick,\n    disabled = false,\n    isLoading,\n    kind = 'primary',\n    className,\n    children,\n    label,\n    text,\n    start,\n    ...restProps\n  } = props;\n  const internalProps = { children, label, text, start };\n  const internalOnClick = useCallback(\n    (e) => {\n      if (isLoading) return;\n      onClick && onClick(e);\n    },\n    [isLoading, onClick]\n  );\n  const btnClassName = cx(\n    s0.btn,\n    { [s0.minimal]: kind === 'minimal' },\n    className\n  );\n  return (\n    <button\n      className={btnClassName}\n      ref={ref}\n      onClick={internalOnClick}\n      disabled={disabled}\n      {...restProps}\n    >\n      {isLoading ? (\n        <>\n          <span style={{ display: 'inline-flex', opacity: 0 }}>\n            <ButtonInternal {...internalProps} />\n          </span>\n          <span className={s0.loadingContainer}>\n            <LoadingDot />\n          </span>\n        </>\n      ) : (\n        <ButtonInternal {...internalProps} />\n      )}\n    </button>\n  );\n}\n\nfunction ButtonInternal({ children, label, text, start }: ButtonInternalProps) {\n  return (\n    <>\n      {start ? (\n        <span className={s0.btnStart}>\n          {typeof start === 'function' ? start() : start}\n        </span>\n      ) : null}\n      {children || label || text}\n    </>\n  );\n}\n\nexport default forwardRef(Button);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_24ddJm1Q5s\",\"h1\":\"B4QNkMu-0t\"};",
    "import React from 'react';\n\nimport s0 from './ContentHeader.module.css';\n\ntype Props = {\n  title: string;\n};\n\nfunction ContentHeader({ title }: Props) {\n  return (\n    <div className={s0.root}>\n      <h1 className={s0.h1}>{title}</h1>\n    </div>\n  );\n}\n\nexport default React.memo(ContentHeader);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_2DECxrOsTa\"};",
    "import React from 'react';\n\nimport s0 from './Input.module.css';\n\nconst { useState, useRef, useEffect, useCallback } = React;\n\ntype InputProps = {\n  value?: string | number;\n  type?: string;\n  onChange?: (...args: any[]) => any;\n  name?: string;\n  placeholder?: string;\n};\n\nexport default function Input(props: InputProps) {\n  return <input className={s0.input} {...props} />;\n}\n\nexport function SelfControlledInput({ value, ...restProps }) {\n  const [internalValue, setInternalValue] = useState(value);\n  const refValue = useRef(value);\n  useEffect(() => {\n    if (refValue.current !== value) {\n      // ideally we should only do this when this input is not focused\n      setInternalValue(value);\n    }\n    refValue.current = value;\n  }, [value]);\n  const onChange = useCallback((e) => setInternalValue(e.target.value), [\n    setInternalValue,\n  ]);\n\n  return (\n    <input\n      className={s0.input}\n      value={internalValue}\n      onChange={onChange}\n      {...restProps}\n    />\n  );\n}\n",
    "import produce, * as immer from 'immer';\nimport React from 'react';\n\n// in logs store we update logs in place\n// outside of immer produce\n// this is just workaround\nimmer.setAutoFreeze(false);\n\nconst {\n  createContext,\n  memo,\n  useMemo,\n  useRef,\n  useEffect,\n  useCallback,\n  useContext,\n  useState,\n} = React;\n\nexport { immer };\n\nconst StateContext = createContext(null);\nconst DispatchContext = createContext(null);\nconst ActionsContext = createContext(null);\n\nexport function useStoreState() {\n  return useContext(StateContext);\n}\n\nexport function useStoreDispatch() {\n  return useContext(DispatchContext);\n}\n\nexport function useStoreActions() {\n  return useContext(ActionsContext);\n}\n\n// boundActionCreators\nexport default function Provider({ initialState, actions = {}, children }) {\n  const stateRef = useRef(initialState);\n  const [state, setState] = useState(initialState);\n  const getState = useCallback(() => stateRef.current, []);\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      (window as any).getState2 = getState;\n    }\n  }, [getState]);\n  const dispatch = useCallback(\n    (actionId, fn) => {\n      if (typeof actionId === 'function') return actionId(dispatch, getState);\n\n      const stateNext = produce(getState(), fn);\n      if (stateNext !== stateRef.current) {\n        if (process.env.NODE_ENV === 'development') {\n          // eslint-disable-next-line no-console\n          console.log(actionId, stateNext);\n        }\n        stateRef.current = stateNext;\n        setState(stateNext);\n      }\n    },\n    [getState]\n  );\n  const boundActions = useMemo(() => bindActions(actions, dispatch), [\n    actions,\n    dispatch,\n  ]);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        <ActionsContext.Provider value={boundActions}>\n          {children}\n        </ActionsContext.Provider>\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}\n\nexport function connect(mapStateToProps) {\n  return (Component) => {\n    const MemoComponent = memo(Component);\n    function Connected(props) {\n      const state = useContext(StateContext);\n      const dispatch = useContext(DispatchContext);\n      const mapped = mapStateToProps(state, props);\n      const nextProps = { dispatch, ...props, ...mapped };\n      return <MemoComponent {...nextProps} />;\n    }\n    return Connected;\n  };\n}\n\n// steal from https://github.com/reduxjs/redux/blob/master/src/bindActionCreators.ts\nfunction bindAction(action, dispatch) {\n  return function (...args) {\n    // @ts-expect-error ts-migrate(2683) FIXME: 'this' implicitly has type 'any' because it does n... Remove this comment to see the full error message\n    return dispatch(action.apply(this, args));\n  };\n}\n\nfunction bindActions(actions, dispatch) {\n  const boundActions = {};\n  for (const key in actions) {\n    const action = actions[key];\n    if (typeof action === 'function') {\n      boundActions[key] = bindAction(action, dispatch);\n    } else if (typeof action === 'object') {\n      boundActions[key] = bindActions(action, dispatch);\n    }\n  }\n  return boundActions;\n}\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"path\":\"_3MvgliBN_D\",\"dash\":\"_2C1TpO8LMn\"};",
    "import cx from 'clsx';\nimport React from 'react';\n\nimport s from './SvgYacd.module.css';\n\ntype Props = {\n  width?: number;\n  height?: number;\n  animate?: boolean;\n  c0?: string;\n  c1?: string;\n};\n\nfunction SvgYacd({\n  width = 320,\n  height = 320,\n  animate = false,\n  c0 = 'currentColor',\n  c1 = '#eee',\n}: Props) {\n  const faceClasName = cx({ [s.path]: animate });\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox=\"0 0 320 320\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g fill=\"none\" fillRule=\"evenodd\">\n        {/* face */}\n        <path\n          d=\"M71.689 53.055c9.23-1.487 25.684 27.263 41.411 56.663 18.572-8.017 71.708-7.717 93.775 0 4.714-15.612 31.96-57.405 41.626-56.663 3.992.088 13.07 31.705 23.309 94.96 2.743 16.949 7.537 47.492 14.38 91.63-42.339 17.834-84.37 26.751-126.095 26.751-41.724 0-83.756-8.917-126.095-26.751C52.973 116.244 65.536 54.047 71.689 53.055z\"\n          stroke={c1}\n          strokeWidth=\"4\"\n          strokeLinecap=\"round\"\n          fill={c0}\n          className={faceClasName}\n        />\n        <circle fill={c1} cx=\"216.5\" cy=\"181.5\" r=\"14.5\" />\n        <circle fill={c1} cx=\"104.5\" cy=\"181.5\" r=\"14.5\" />\n        {/* mouth */}\n        <g stroke={c1} strokeLinecap=\"round\" strokeWidth=\"4\">\n          <path d=\"M175.568 218.694c-2.494 1.582-5.534 2.207-8.563 1.508-3.029-.7-5.487-2.594-7.035-5.11M143.981 218.694c2.494 1.582 5.534 2.207 8.563 1.508 3.03-.7 5.488-2.594 7.036-5.11\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default SvgYacd;\n",
    "import React from 'react';\nimport Switch from 'react-switch';\n\nimport { getTheme } from '../store/app';\nimport { connect } from './StateProvider';\n\nfunction SwitchThemed({ checked = false, onChange, theme, name }) {\n  const offColor = theme === 'dark' ? '#393939' : '#e9e9e9';\n\n  return (\n    <Switch\n      onChange={onChange}\n      checked={checked}\n      uncheckedIcon={false}\n      checkedIcon={false}\n      offColor={offColor}\n      onColor=\"#047aff\"\n      offHandleColor=\"#fff\"\n      onHandleColor=\"#fff\"\n      handleDiameter={24}\n      height={28}\n      width={44}\n      className=\"rs\"\n      name={name}\n    />\n  );\n}\n\nexport default connect((s) => ({\n  theme: getTheme(s),\n}))(SwitchThemed);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"ToggleSwitch\":\"_2IgDTE__bQ\",\"slider\":\"_2IfOm9qQ_4\"};",
    "import React, { useCallback, useMemo } from 'react';\n\nimport s0 from './ToggleSwitch.module.css';\n\ntype Props = {\n  options?: any[];\n  value?: string;\n  name?: string;\n  onChange?: (...args: any[]) => any;\n};\n\nfunction ToggleSwitch({ options, value, name, onChange }: Props) {\n  const idxSelected = useMemo(\n    () => options.map((o) => o.value).indexOf(value),\n    [options, value]\n  );\n\n  const getPortionPercentage = useCallback(\n    // @ts-expect-error ts-migrate(7030) FIXME: Not all code paths return a value.\n    (idx) => {\n      const w = Math.floor(100 / options.length);\n      if (idx === options.length - 1) {\n        return 100 - options.length * w + w;\n      } else if (idx > -1) {\n        return w;\n      }\n    },\n    [options]\n  );\n\n  const sliderStyle = useMemo(() => {\n    return {\n      width: getPortionPercentage(idxSelected) + '%',\n      left: idxSelected * getPortionPercentage(0) + '%',\n    };\n  }, [idxSelected, getPortionPercentage]);\n\n  return (\n    <div className={s0.ToggleSwitch}>\n      <div className={s0.slider} style={sliderStyle} />\n      {options.map((o, idx) => {\n        const id = `${name}-${o.label}`;\n        const className = idx === 0 ? '' : 'border-left';\n        return (\n          <label\n            htmlFor={id}\n            key={id}\n            className={className}\n            style={{\n              width: getPortionPercentage(idx) + '%',\n            }}\n          >\n            <input\n              id={id}\n              name={name}\n              type=\"radio\"\n              value={o.value}\n              checked={value === o.value}\n              onChange={onChange}\n            />\n            <div>{o.label}</div>\n          </label>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default React.memo(ToggleSwitch);\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"sectionNameType\":\"Q-CsP5Y3FT\",\"loadingDot\":\"_3GL3LmFL_E\",\"dot2\":\"uZWMZR9nBW\",\"dot1\":\"saNygeIhRC\",\"dot3\":\"_3RtxWfV4g4\"};",
    "import React from 'react';\n\nimport s from './Basic.module.css';\n\nexport function SectionNameType({ name, type }) {\n  return (\n    <h2 className={s.sectionNameType}>\n      <span>{name}</span>\n      <span>{type}</span>\n    </h2>\n  );\n}\n\nexport function LoadingDot() {\n  return <span className={s.loadingDot} />;\n}\n",
    "import React from 'react';\n\nimport { commonChartOptions } from '../misc/chart';\n\nconst { useEffect } = React;\nconst options = commonChartOptions;\n\nexport default function useLineChart(\n  Chart,\n  elementId,\n  data,\n  subscription,\n  extraChartOptions = {}\n) {\n  useEffect(() => {\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'getContext' does not exist on type 'HTML... Remove this comment to see the full error message\n    const ctx = document.getElementById(elementId).getContext('2d');\n    const c = new Chart(ctx, {\n      type: 'line',\n      data,\n      options: { ...options, ...extraChartOptions },\n    });\n    const unsubscribe =\n      subscription && subscription.subscribe(() => c.update());\n    return () => {\n      unsubscribe && unsubscribe();\n      c.destroy();\n    };\n  }, [Chart, elementId, data, subscription, extraChartOptions]);\n}\n",
    "import { unstable_createResource as createResource } from '@hsjs/react-cache';\n\nimport prettyBytes from './pretty-bytes';\n\nexport const chartJSResource = createResource(() => {\n  return import(\n    /* webpackChunkName: \"chartjs\" */\n    /* webpackPrefetch: true */\n    /* webpackPreload: true */\n    'chart.js/dist/Chart.min.js'\n  ).then((c) => c.default);\n});\n\nexport const commonDataSetProps = {\n  borderWidth: 1,\n  lineTension: 0,\n  pointRadius: 0,\n};\n\nexport const commonChartOptions = {\n  responsive: true,\n  maintainAspectRatio: true,\n  title: {\n    display: false,\n  },\n  legend: {\n    display: true,\n    position: 'top',\n    labels: {\n      fontColor: '#ccc',\n      boxWidth: 20,\n    },\n  },\n  tooltips: {\n    enabled: false,\n    mode: 'index',\n    intersect: false,\n    animationDuration: 100,\n  },\n  hover: {\n    mode: 'nearest',\n    intersect: true,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n        gridLines: {\n          display: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        display: true,\n        gridLines: {\n          display: true,\n          color: '#555',\n          borderDash: [3, 6],\n          drawBorder: false,\n        },\n        ticks: {\n          callback(value) {\n            return prettyBytes(value) + '/s ';\n          },\n        },\n      },\n    ],\n  },\n};\n\nexport const chartStyles = [\n  {\n    down: {\n      backgroundColor: 'rgba(176, 209, 132, 0.8)',\n      borderColor: 'rgb(176, 209, 132)',\n    },\n    up: {\n      backgroundColor: 'rgba(181, 220, 231, 0.8)',\n      borderColor: 'rgb(181, 220, 231)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgb(98, 190, 100)',\n      borderColor: 'rgb(78,146,79)',\n    },\n    down: {\n      backgroundColor: 'rgb(160, 230, 66)',\n      borderColor: 'rgb(110, 156, 44)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgba(94, 175, 223, 0.3)',\n      borderColor: 'rgb(94, 175, 223)',\n    },\n    down: {\n      backgroundColor: 'rgba(139, 227, 195, 0.3)',\n      borderColor: 'rgb(139, 227, 195)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgba(242, 174, 62, 0.3)',\n      borderColor: 'rgb(242, 174, 62)',\n    },\n    down: {\n      backgroundColor: 'rgba(69, 154, 248, 0.3)',\n      borderColor: 'rgb(69, 154, 248)',\n    },\n  },\n];\n\n// TODO to remove\nexport const colorCombo = chartStyles;\n",
    "import { createResource } from './createResource';\n\nexport const framerMotionResouce = createResource(\n  () => import('framer-motion')\n);\n",
    "// from https://gist.github.com/ryanflorence/e10cc9dbc0e259759ec942ba82e5b57c\nexport function createResource(getPromise: (key: string) => Promise<any>) {\n  let cache = {};\n  const inflight = {};\n  const errors = {};\n\n  function load(key = 'default') {\n    inflight[key] = getPromise(key)\n      .then((val) => {\n        delete inflight[key];\n        cache[key] = val;\n      })\n      .catch((error) => {\n        errors[key] = error;\n      });\n    return inflight[key];\n  }\n\n  function preload(key = 'default') {\n    if (cache[key] !== undefined || inflight[key]) return;\n    load(key);\n  }\n\n  function read(key = 'default') {\n    if (cache[key] !== undefined) {\n      return cache[key];\n    } else if (errors[key]) {\n      throw errors[key];\n    } else if (inflight[key]) {\n      throw inflight[key];\n    } else {\n      throw load(key);\n    }\n  }\n\n  function clear(key: 'default') {\n    if (key) {\n      delete cache[key];\n    } else {\n      cache = {};\n    }\n  }\n\n  return { preload, read, clear };\n}\n",
    "// steal from https://github.com/sindresorhus/pretty-bytes/blob/master/index.js\n\nconst UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport default function prettyBytes(n: number) {\n  if (n < 1000) {\n    return n + ' B';\n  }\n  const exponent = Math.min(Math.floor(Math.log10(n) / 3), UNITS.length - 1);\n  n = Number((n / Math.pow(1000, exponent)).toPrecision(3));\n  const unit = UNITS[exponent];\n  return n + ' ' + unit;\n}\n",
    "import { trimTrailingSlash } from 'src/misc/utils';\nimport { ClashAPIConfig } from 'src/types';\n\nconst headersCommon = { 'Content-Type': 'application/json' };\n\nfunction genCommonHeaders({ secret }: { secret?: string }) {\n  const h = { ...headersCommon };\n  if (secret) {\n    h['Authorization'] = `Bearer ${secret}`;\n  }\n  return h;\n}\n\nexport function getURLAndInit({ baseURL, secret }: ClashAPIConfig) {\n  const headers = genCommonHeaders({ secret });\n  return {\n    url: baseURL,\n    init: { headers },\n  };\n}\n\nexport function buildWebSocketURL(apiConfig: ClashAPIConfig, endpoint: string) {\n  const { baseURL, secret } = apiConfig;\n  let qs = '';\n  if (typeof secret === 'string' && secret !== '') {\n    qs += '?token=' + encodeURIComponent(secret);\n  }\n  const url = new URL(baseURL);\n  url.protocol === 'https:' ? (url.protocol = 'wss:') : (url.protocol = 'ws:');\n  return `${trimTrailingSlash(url.href)}${endpoint}${qs}`;\n}\n",
    "export function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  timeout: number\n) {\n  let pending = false;\n\n  return (...args: T) => {\n    if (!pending) {\n      pending = true;\n      fn(...args);\n      setTimeout(() => {\n        pending = false;\n      }, timeout);\n    }\n  };\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  timeout: number\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  return (...args: T) => {\n    if (timeoutId) clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      fn(...args);\n    }, timeout);\n  };\n}\n\nexport function trimTrailingSlash(s: string) {\n  return s.replace(/\\/$/, '');\n}\n",
    "// manage localStorage\n\nconst StorageKey = 'yacd.haishan.me';\n\nfunction loadState() {\n  try {\n    const serialized = localStorage.getItem(StorageKey);\n    if (!serialized) return undefined;\n    return JSON.parse(serialized);\n  } catch (err) {\n    return undefined;\n  }\n}\n\nfunction saveState(state) {\n  try {\n    const serialized = JSON.stringify(state);\n    localStorage.setItem(StorageKey, serialized);\n  } catch (err) {\n    // ignore\n  }\n}\n\nfunction clearState() {\n  try {\n    localStorage.removeItem(StorageKey);\n  } catch (err) {\n    // ignore\n  }\n}\n\nexport { loadState, saveState, clearState };\n",
    "import { DispatchFn, GetStateFn, State, StateApp } from 'src/store/types';\n\nimport { loadState, saveState } from '../misc/storage';\nimport { debounce, trimTrailingSlash } from '../misc/utils';\nimport { fetchConfigs } from './configs';\nimport { closeModal } from './modals';\n\nexport const getClashAPIConfig = (s: State) => {\n  const idx = s.app.selectedClashAPIConfigIndex;\n  return s.app.clashAPIConfigs[idx];\n};\nexport const getSelectedClashAPIConfigIndex = (s: State) =>\n  s.app.selectedClashAPIConfigIndex;\nexport const getClashAPIConfigs = (s: State) => s.app.clashAPIConfigs;\nexport const getTheme = (s: State) => s.app.theme;\nexport const getSelectedChartStyleIndex = (s: State) =>\n  s.app.selectedChartStyleIndex;\nexport const getLatencyTestUrl = (s: State) => s.app.latencyTestUrl;\nexport const getCollapsibleIsOpen = (s: State) => s.app.collapsibleIsOpen;\nexport const getProxySortBy = (s: State) => s.app.proxySortBy;\nexport const getHideUnavailableProxies = (s: State) =>\n  s.app.hideUnavailableProxies;\nexport const getAutoCloseOldConns = (s: State) => s.app.autoCloseOldConns;\n\nconst saveStateDebounced = debounce(saveState, 600);\n\n// @ts-expect-error ts-migrate(7030) FIXME: Not all code paths return a value.\nfunction findClashAPIConfigIndex(getState: GetStateFn, { baseURL, secret }) {\n  const arr = getClashAPIConfigs(getState());\n  for (let i = 0; i < arr.length; i++) {\n    const x = arr[i];\n    if (x.baseURL === baseURL && x.secret === secret) return i;\n  }\n}\n\nexport function addClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    // already exists\n    if (idx) return;\n\n    const clashAPIConfig = { baseURL, secret, addedAt: Date.now() };\n    dispatch('addClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs.push(clashAPIConfig);\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function removeClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    dispatch('removeClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs = [\n        ...s.app.clashAPIConfigs.slice(0, idx),\n        ...s.app.clashAPIConfigs.slice(idx + 1),\n      ];\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function selectClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    const curr = getSelectedClashAPIConfigIndex(getState());\n    if (curr !== idx) {\n      dispatch('selectClashAPIConfig', (s) => {\n        s.app.selectedClashAPIConfigIndex = idx;\n      });\n    }\n    // side effect\n    saveState(getState().app);\n\n    // manual clean up is too complex\n    // we just reload the app\n    try {\n      window.location.reload();\n    } catch (err) {\n      // ignore\n    }\n  };\n}\n\n// unused\nexport function updateClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const clashAPIConfig = { baseURL, secret };\n    dispatch('appUpdateClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs[0] = clashAPIConfig;\n    });\n    // side effect\n    saveState(getState().app);\n    dispatch(closeModal('apiConfig'));\n    dispatch(fetchConfigs(clashAPIConfig));\n  };\n}\n\nconst bodyElement = document.body;\nfunction setTheme(theme = 'dark') {\n  if (theme === 'dark') {\n    bodyElement.classList.remove('light');\n    bodyElement.classList.add('dark');\n  } else {\n    bodyElement.classList.remove('dark');\n    bodyElement.classList.add('light');\n  }\n}\n\nexport function switchTheme() {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    const currentTheme = getTheme(getState());\n    const theme = currentTheme === 'light' ? 'dark' : 'light';\n    // side effect\n    setTheme(theme);\n    dispatch('storeSwitchTheme', (s) => {\n      s.app.theme = theme;\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function selectChartStyleIndex(\n  selectedChartStyleIndex: number | string\n) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('appSelectChartStyleIndex', (s) => {\n      s.app.selectedChartStyleIndex = Number(selectedChartStyleIndex);\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function updateAppConfig(name: string, value: unknown) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('appUpdateAppConfig', (s) => {\n      s.app[name] = value;\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function updateCollapsibleIsOpen(\n  prefix: string,\n  name: string,\n  v: boolean\n) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('updateCollapsibleIsOpen', (s: State) => {\n      s.app.collapsibleIsOpen[`${prefix}:${name}`] = v;\n    });\n    // side effect\n    saveStateDebounced(getState().app);\n  };\n}\n\nconst defaultClashAPIConfig = {\n  baseURL: 'http://127.0.0.1:9090',\n  secret: '',\n  addedAt: 0,\n};\n// type Theme = 'light' | 'dark';\nconst defaultState: StateApp = {\n  selectedClashAPIConfigIndex: 0,\n  clashAPIConfigs: [defaultClashAPIConfig],\n\n  latencyTestUrl: 'http://www.gstatic.com/generate_204',\n  selectedChartStyleIndex: 0,\n  theme: 'dark',\n\n  // type { [string]: boolean }\n  collapsibleIsOpen: {},\n  // how proxies are sorted in a group or provider\n  proxySortBy: 'Natural',\n  hideUnavailableProxies: false,\n  autoCloseOldConns: false,\n};\n\nfunction parseConfigQueryString() {\n  const { search } = window.location;\n  const collector: Record<string, string> = {};\n  if (typeof search !== 'string' || search === '') return collector;\n  const qs = search.replace(/^\\?/, '').split('&');\n  for (let i = 0; i < qs.length; i++) {\n    const [k, v] = qs[i].split('=');\n    collector[k] = encodeURIComponent(v);\n  }\n  return collector;\n}\n\nexport function initialState() {\n  let s = loadState();\n  s = { ...defaultState, ...s };\n  const query = parseConfigQueryString();\n\n  const conf = s.clashAPIConfigs[s.selectedClashAPIConfigIndex];\n  if (conf) {\n    const url = new URL(conf.baseURL);\n    if (query.hostname) {\n      url.hostname = query.hostname;\n    }\n    if (query.port) {\n      url.port = query.port;\n    }\n    // url.href is a stringifier and it appends a trailing slash\n    // that is not we want\n    conf.baseURL = trimTrailingSlash(url.href);\n    if (query.secret) {\n      conf.secret = query.secret;\n    }\n  }\n\n  if (query.theme === 'dark' || query.theme === 'light') {\n    s.theme = query.theme;\n  }\n  // set initial theme\n  setTheme(s.theme);\n  return s;\n}\n",
    "import {\n  ClashGeneralConfig,\n  DispatchFn,\n  GetStateFn,\n  State,\n  StateConfigs,\n} from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nimport * as configsAPI from '../api/configs';\nimport * as trafficAPI from '../api/traffic';\nimport { openModal } from './modals';\n\nexport const getConfigs = (s: State) => s.configs.configs;\nexport const getHaveFetched = (s: State) => s.configs.haveFetchedConfig;\nexport const getLogLevel = (s: State) => s.configs.configs['log-level'];\n\nexport function fetchConfigs(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    let res: Response;\n    try {\n      res = await configsAPI.fetchConfigs(apiConfig);\n    } catch (err) {\n      // TypeError and AbortError\n      dispatch(openModal('apiConfig'));\n      return;\n    }\n\n    if (!res.ok) {\n      console.log('Error fetch configs', res.statusText);\n      dispatch(openModal('apiConfig'));\n      return;\n    }\n\n    const payload = await res.json();\n\n    dispatch('store/configs#fetchConfigs', (s) => {\n      s.configs.configs = payload;\n    });\n\n    const haveFetchedConfig = getHaveFetched(getState());\n\n    if (haveFetchedConfig) {\n      // normally user will land on the \"traffic chart\" page first\n      // calling this here will let the data start streaming\n      // the traffic chart should already subscribed to the streaming\n      trafficAPI.fetchData(apiConfig);\n    } else {\n      dispatch(markHaveFetchedConfig());\n    }\n  };\n}\n\nfunction markHaveFetchedConfig() {\n  return (dispatch: DispatchFn) => {\n    dispatch('store/configs#markHaveFetchedConfig', (s: State) => {\n      s.configs.haveFetchedConfig = true;\n    });\n  };\n}\n\nexport function updateConfigs(\n  apiConfig: ClashAPIConfig,\n  partialConfg: Partial<ClashGeneralConfig>\n) {\n  return async (dispatch: DispatchFn) => {\n    configsAPI\n      .updateConfigs(apiConfig, partialConfg)\n      .then(\n        (res) => {\n          if (res.ok === false) {\n            // eslint-disable-next-line no-console\n            console.log('Error update configs', res.statusText);\n          }\n        },\n        (err) => {\n          // eslint-disable-next-line no-console\n          console.log('Error update configs', err);\n          throw err;\n        }\n      )\n      .then(() => {\n        dispatch(fetchConfigs(apiConfig));\n      });\n\n    dispatch('storeConfigsOptimisticUpdateConfigs', (s) => {\n      s.configs.configs = { ...s.configs.configs, ...partialConfg };\n    });\n  };\n}\n\nexport const initialState: StateConfigs = {\n  configs: {\n    port: 7890,\n    'socks-port': 7891,\n    'redir-port': 0,\n    'allow-lan': false,\n    mode: 'Rule',\n    'log-level': 'info',\n  },\n  haveFetchedConfig: false,\n};\n",
    "import { createSelector } from 'reselect';\n\nconst LogSize = 300;\n\nconst getLogs = (s) => s.logs.logs;\nconst getTail = (s) => s.logs.tail;\nexport const getSearchText = (s) => s.logs.searchText;\nexport const getLogsForDisplay = createSelector(\n  getLogs,\n  getTail,\n  getSearchText,\n  (logs, tail, searchText) => {\n    const x = [];\n    for (let i = tail; i >= 0; i--) {\n      x.push(logs[i]);\n    }\n    if (logs.length === LogSize) {\n      for (let i = LogSize - 1; i > tail; i--) {\n        x.push(logs[i]);\n      }\n    }\n\n    if (searchText === '') return x;\n    return x.filter((r) => r.payload.toLowerCase().indexOf(searchText) >= 0);\n  }\n);\n\nexport function updateSearchText(text) {\n  return (dispatch) => {\n    dispatch('logsUpdateSearchText', (s) => {\n      s.logs.searchText = text.toLowerCase();\n    });\n  };\n}\n\nexport function appendLog(log) {\n  return (dispatch, getState) => {\n    const s = getState();\n    const logs = getLogs(s);\n    const tailCurr = getTail(s);\n    const tail = tailCurr >= LogSize - 1 ? 0 : tailCurr + 1;\n    // mutate intentionally for performance\n    logs[tail] = log;\n\n    dispatch('logsAppendLog', (s) => {\n      s.logs.tail = tail;\n    });\n  };\n}\n\nexport const initialState = {\n  searchText: '',\n  logs: [],\n  // tail's initial value must be -1\n  tail: -1,\n};\n",
    "export function openModal(modalName) {\n  return (dispatch) => {\n    dispatch(`openModal:${modalName}`, (s) => {\n      s.modals[modalName] = true;\n    });\n  };\n}\n\nexport function closeModal(modalName) {\n  return (dispatch) => {\n    dispatch(`closeModal:${modalName}`, (s) => {\n      s.modals[modalName] = false;\n    });\n  };\n}\n\nexport const initialState = { apiConfig: false };\n",
    "import { getURLAndInit } from '../misc/request-helper';\nconst endpoint = '/proxies';\n\n/*\n$ curl \"http://127.0.0.1:8080/proxies/Proxy\" -XPUT -d '{ \"name\": \"ss3\" }' -i\nHTTP/1.1 400 Bad Request\nContent-Type: text/plain; charset=utf-8\n\n{\"error\":\"Selector update error: Proxy does not exist\"}\n\n~\n$ curl \"http://127.0.0.1:8080/proxies/GLOBAL\" -XPUT -d '{ \"name\": \"Proxy\" }' -i\nHTTP/1.1 204 No Content\n*/\n\nexport async function fetchProxies(config) {\n  const { url, init } = getURLAndInit(config);\n  const res = await fetch(url + endpoint, init);\n  return await res.json();\n}\n\nexport async function requestToSwitchProxy(apiConfig, name1, name2) {\n  const body = { name: name2 };\n  const { url, init } = getURLAndInit(apiConfig);\n  const fullURL = `${url}${endpoint}/${name1}`;\n  return await fetch(fullURL, {\n    ...init,\n    method: 'PUT',\n    body: JSON.stringify(body),\n  });\n}\n\nexport async function requestDelayForProxy(\n  apiConfig,\n  name,\n  latencyTestUrl = 'http://www.gstatic.com/generate_204'\n) {\n  const { url, init } = getURLAndInit(apiConfig);\n  const qs = `timeout=5000&url=${latencyTestUrl}`;\n  const fullURL = `${url}${endpoint}/${name}/delay?${qs}`;\n  return await fetch(fullURL, init);\n}\n\nexport async function fetchProviderProxies(config) {\n  const { url, init } = getURLAndInit(config);\n  const res = await fetch(url + '/providers/proxies', init);\n  if (res.status === 404) {\n    return { providers: {} };\n  }\n  return await res.json();\n}\n\nexport async function updateProviderByName(config, name) {\n  const { url, init } = getURLAndInit(config);\n  const options = { ...init, method: 'PUT' };\n  return await fetch(url + '/providers/proxies/' + name, options);\n}\n\nexport async function healthcheckProviderByName(config, name) {\n  const { url, init } = getURLAndInit(config);\n  const options = { ...init, method: 'GET' };\n  return await fetch(\n    url + '/providers/proxies/' + name + '/healthcheck',\n    options\n  );\n}\n",
    "import { atom } from 'recoil';\n/* import { ProxyItem, ProxiesMapping, DelayMapping } from 'src/store/types'; */\nimport {\n  DispatchFn,\n  FormattedProxyProvider,\n  GetStateFn,\n  ProxiesMapping,\n  ProxyItem,\n  ProxyProvider,\n  State,\n  StateProxies,\n  SwitchProxyCtxItem,\n} from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nimport * as connAPI from '../api/connections';\nimport * as proxiesAPI from '../api/proxies';\nimport { getAutoCloseOldConns, getLatencyTestUrl } from './app';\n\nexport const initialState: StateProxies = {\n  proxies: {},\n  delay: {},\n  groupNames: [],\n  showModalClosePrevConns: false,\n};\n\nconst noop = () => null;\n\n// see all types:\n// https://github.com/Dreamacro/clash/blob/master/constant/adapters.go\n\n// const ProxyTypeBuiltin = ['DIRECT', 'GLOBAL', 'REJECT'];\n// const ProxyGroupTypes = ['Fallback', 'URLTest', 'Selector', 'LoadBalance'];\n// const ProxyTypes = ['Shadowsocks', 'Snell', 'Socks5', 'Http', 'Vmess'];\n\nexport const NonProxyTypes = [\n  'Direct',\n  'Fallback',\n  'Reject',\n  'Selector',\n  'URLTest',\n  'LoadBalance',\n  'Unknown',\n];\n\nexport const getProxies = (s: State) => s.proxies.proxies;\nexport const getDelay = (s: State) => s.proxies.delay;\nexport const getProxyGroupNames = (s: State) => s.proxies.groupNames;\nexport const getProxyProviders = (s: State) => s.proxies.proxyProviders || [];\nexport const getDangleProxyNames = (s: State) => s.proxies.dangleProxyNames;\nexport const getShowModalClosePrevConns = (s: State) =>\n  s.proxies.showModalClosePrevConns;\n\nexport function fetchProxies(apiConfig: ClashAPIConfig) {\n  return async (dispatch: any, getState: any) => {\n    const [proxiesData, providersData] = await Promise.all([\n      proxiesAPI.fetchProxies(apiConfig),\n      proxiesAPI.fetchProviderProxies(apiConfig),\n    ]);\n\n    const {\n      providers: proxyProviders,\n      proxies: providerProxies,\n    } = formatProxyProviders(providersData.providers);\n    const proxies = { ...providerProxies, ...proxiesData.proxies };\n    const [groupNames, proxyNames] = retrieveGroupNamesFrom(proxies);\n\n    const delayPrev = getDelay(getState());\n    const delayNext = { ...delayPrev };\n\n    for (let i = 0; i < proxyNames.length; i++) {\n      const name = proxyNames[i];\n      const { history } = proxies[name] || { history: [] };\n      const h = history[history.length - 1];\n      if (h && typeof h.delay === 'number') {\n        delayNext[name] = { number: h.delay };\n      }\n    }\n\n    // proxies that are not from a provider\n    const dangleProxyNames = [];\n    for (const v of proxyNames) {\n      if (!providerProxies[v]) dangleProxyNames.push(v);\n    }\n\n    dispatch('store/proxies#fetchProxies', (s: State) => {\n      s.proxies.proxies = proxies;\n      s.proxies.groupNames = groupNames;\n      s.proxies.delay = delayNext;\n      s.proxies.proxyProviders = proxyProviders;\n      s.proxies.dangleProxyNames = dangleProxyNames;\n    });\n  };\n}\n\nexport function updateProviderByName(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn) => {\n    try {\n      await proxiesAPI.updateProviderByName(apiConfig, name);\n    } catch (x) {\n      // ignore\n    }\n    // should be optimized\n    // but \\_()_/\n    dispatch(fetchProxies(apiConfig));\n  };\n}\n\nasync function healthcheckProviderByNameInternal(\n  apiConfig: ClashAPIConfig,\n  name: string\n) {\n  try {\n    await proxiesAPI.healthcheckProviderByName(apiConfig, name);\n  } catch (x) {\n    // ignore\n  }\n}\n\nexport function healthcheckProviderByName(\n  apiConfig: ClashAPIConfig,\n  name: string\n) {\n  return async (dispatch: DispatchFn) => {\n    await healthcheckProviderByNameInternal(apiConfig, name);\n    // should be optimized\n    // but \\_()_/\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nasync function closeGroupConns(\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  exceptionItemName: string\n) {\n  const res = await connAPI.fetchConns(apiConfig);\n  if (!res.ok) {\n    console.log('unable to fetch all connections', res.statusText);\n    /* throw new Error(); */\n  }\n  const json = await res.json();\n  const connections = json.connections;\n  const idsToClose = [];\n  for (const conn of connections) {\n    if (\n      // include the groupName\n      conn.chains.indexOf(groupName) > -1 &&\n      // but not include the itemName\n      conn.chains.indexOf(exceptionItemName) < 0\n    ) {\n      idsToClose.push(conn.id);\n    }\n  }\n\n  await Promise.all(\n    idsToClose.map((id) => connAPI.closeConnById(apiConfig, id).catch(noop))\n  );\n}\n\nfunction resolveChain(\n  proxies: ProxiesMapping,\n  groupName: string,\n  itemName: string\n) {\n  const chain = [itemName, groupName];\n\n  let child: ProxyItem;\n  let childKey = itemName;\n  while ((child = proxies[childKey]) && child.now) {\n    chain.unshift(child.now);\n    childKey = child.now;\n  }\n  return chain;\n}\n\nasync function switchProxyImpl(\n  dispatch: DispatchFn,\n  getState: GetStateFn,\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  itemName: string\n) {\n  try {\n    const res = await proxiesAPI.requestToSwitchProxy(\n      apiConfig,\n      groupName,\n      itemName\n    );\n    if (res.ok === false) {\n      throw new Error(`failed to switch proxy: res.statusText`);\n    }\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.log(err, 'failed to swith proxy');\n    throw err;\n  }\n\n  dispatch(fetchProxies(apiConfig));\n  const autoCloseOldConns = getAutoCloseOldConns(getState());\n  if (autoCloseOldConns) {\n    // use fresh state\n    const proxies = getProxies(getState());\n    // no wait\n    closePrevConns(apiConfig, proxies, { groupName, itemName });\n  }\n\n  /* dispatch('showModalClosePrevConns', (s: GlobalState) => { */\n  /*   s.proxies.showModalClosePrevConns = true; */\n  /*   s.proxies.switchProxyCtx = { to: { groupName, itemName } }; */\n  /* }); */\n}\n\nfunction closeModalClosePrevConns() {\n  return (dispatch: DispatchFn) => {\n    dispatch('closeModalClosePrevConns', (s: State) => {\n      s.proxies.showModalClosePrevConns = false;\n    });\n  };\n}\n\nfunction closePrevConns(\n  apiConfig: ClashAPIConfig,\n  proxies: ProxiesMapping,\n  switchTo: SwitchProxyCtxItem\n) {\n  // we must have fetched the proxies before\n  // so the proxies here is fresh\n  /* const proxies = s.proxies.proxies; */\n  const chain = resolveChain(proxies, switchTo.groupName, switchTo.itemName);\n  closeGroupConns(apiConfig, switchTo.groupName, chain[0]);\n}\n\nfunction closePrevConnsAndTheModal(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const s = getState();\n    const switchTo = s.proxies.switchProxyCtx?.to;\n    if (!switchTo) {\n      dispatch(closeModalClosePrevConns());\n      return;\n    }\n\n    // we must have fetched the proxies before\n    // so the proxies here is fresh\n    const proxies = s.proxies.proxies;\n    closePrevConns(apiConfig, proxies, switchTo);\n\n    dispatch('closePrevConnsAndTheModal', (s: State) => {\n      s.proxies.showModalClosePrevConns = false;\n      s.proxies.switchProxyCtx = undefined;\n    });\n  };\n}\n\nexport function switchProxy(\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  itemName: string\n) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    // switch proxy asynchronously\n    switchProxyImpl(dispatch, getState, apiConfig, groupName, itemName).catch(\n      noop\n    );\n\n    // optimistic UI update\n    dispatch('store/proxies#switchProxy', (s) => {\n      const proxies = s.proxies.proxies;\n      if (proxies[groupName] && proxies[groupName].now) {\n        proxies[groupName].now = itemName;\n      }\n    });\n  };\n}\n\nfunction requestDelayForProxyOnce(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const latencyTestUrl = getLatencyTestUrl(getState());\n    const res = await proxiesAPI.requestDelayForProxy(\n      apiConfig,\n      name,\n      latencyTestUrl\n    );\n    let error = '';\n    if (res.ok === false) {\n      error = res.statusText;\n    }\n    const { delay } = await res.json();\n\n    const delayPrev = getDelay(getState());\n    const delayNext = {\n      ...delayPrev,\n      [name]: {\n        error,\n        number: delay,\n      },\n    };\n\n    dispatch('requestDelayForProxyOnce', (s) => {\n      s.proxies.delay = delayNext;\n    });\n  };\n}\n\nexport function requestDelayForProxy(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn) => {\n    await dispatch(requestDelayForProxyOnce(apiConfig, name));\n  };\n}\n\nexport function requestDelayForProxies(\n  apiConfig: ClashAPIConfig,\n  names: string[]\n) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const proxyNames = getDangleProxyNames(getState());\n\n    const works = names\n      // remove names that are provided by proxy providers\n      .filter((p) => proxyNames.indexOf(p) > -1)\n      .map((p) => dispatch(requestDelayForProxy(apiConfig, p)));\n    await Promise.all(works);\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nexport function requestDelayAll(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const proxyNames = getDangleProxyNames(getState());\n    await Promise.all(\n      proxyNames.map((p) => dispatch(requestDelayForProxy(apiConfig, p)))\n    );\n    const proxyProviders = getProxyProviders(getState());\n    // one by one\n    for (const p of proxyProviders) {\n      await healthcheckProviderByNameInternal(apiConfig, p.name);\n    }\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nfunction retrieveGroupNamesFrom(proxies: Record<string, ProxyItem>) {\n  let groupNames = [];\n  let globalAll: string[];\n  const proxyNames = [];\n  for (const prop in proxies) {\n    const p = proxies[prop];\n    if (p.all && Array.isArray(p.all)) {\n      groupNames.push(prop);\n      if (prop === 'GLOBAL') {\n        globalAll = p.all;\n      }\n    } else if (NonProxyTypes.indexOf(p.type) < 0) {\n      proxyNames.push(prop);\n    }\n  }\n  if (globalAll) {\n    // Put GLOBAL in the end\n    globalAll.push('GLOBAL');\n    // Sort groups according to its index in GLOBAL group\n    groupNames = groupNames\n      .map((name) => [globalAll.indexOf(name), name])\n      .sort((a, b) => a[0] - b[0])\n      .map((group) => group[1]);\n  }\n  return [groupNames, proxyNames];\n}\n\ntype ProvidersRaw = {\n  [key: string]: ProxyProvider;\n};\n\nfunction formatProxyProviders(\n  providersInput: ProvidersRaw\n): {\n  providers: Array<FormattedProxyProvider>;\n  proxies: { [key: string]: ProxyItem };\n} {\n  const keys = Object.keys(providersInput);\n  const providers = [];\n  const proxies = {};\n  for (let i = 0; i < keys.length; i++) {\n    const provider: ProxyProvider = providersInput[keys[i]];\n    if (provider.name === 'default' || provider.vehicleType === 'Compatible') {\n      continue;\n    }\n    const proxiesArr = provider.proxies;\n    const names = [];\n    for (let j = 0; j < proxiesArr.length; j++) {\n      const proxy = proxiesArr[j];\n      proxies[proxy.name] = proxy;\n      names.push(proxy.name);\n    }\n\n    // mutate directly\n    provider.proxies = names;\n    providers.push(provider);\n  }\n\n  return {\n    providers,\n    proxies,\n  };\n}\n\nexport const actions = {\n  requestDelayForProxies,\n  closeModalClosePrevConns,\n  closePrevConnsAndTheModal,\n};\n\nexport const proxyFilterText = atom({\n  key: 'proxyFilterText',\n  default: '',\n});\n",
    "// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"_2ueF0jmjym\",\"content\":\"UZ5fqyDCOb\"};",
    "var startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\tvar result = startup();\n\t[576,331,170,869,641,237,981,507,497,736].map(__webpack_require__.E);\n\treturn result;\n};"
  ],
  "sourceRoot": ""
}
